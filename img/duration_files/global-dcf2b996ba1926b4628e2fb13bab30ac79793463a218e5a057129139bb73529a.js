function bindAll(e,t){for(var i in e)e.hasOwnProperty(i)&&"function"==typeof e[i]&&(e[i]=e[i].bind(t));return e}function memberContainer(e){var t=$(e).closest("li.player, .floating-sidebar-container, .shot-byline .attribution, .hover-card .profile-head, .screenshot-meta, .overlay"),i=$("."+t.attr("class").match(/user-row-\d+/));return i.length?i:t}function initRecentActivity(){$("#t-activity").on("mouseenter",function(){$("#t-activity .new-activity:visible").fadeOut("slow",function(){var e=$("#t-activity a:first-child").attr("href");$.post(e,{_method:"PUT"})})}).find(".activity-mini a.close").on("click",function(){$("#nav li ul.tabs").hide()})}function numberWithDelimiter(e){return e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var i=document.createElement("style"),e=document.getElementsByTagName("script")[0],n=null;i.type="text/css",i.id="matchmediajs-test",e.parentNode.insertBefore(i,e),n="getComputedStyle"in window&&window.getComputedStyle(i,null)||i.currentStyle,t={matchMedium:function(e){var t="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return i.styleSheet?i.styleSheet.cssText=t:i.textContent=t,"1px"===n.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(d,h){var f;d.rails!==h&&d.error("jquery-ujs has already been loaded!");var e=d(document);d.rails=f={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var t=d('meta[name="csrf-token"]').attr("content");t&&e.setRequestHeader("X-CSRF-Token",t)},fire:function(e,t,i){var n=d.Event(t);return e.trigger(n,i),!1!==n.result},confirm:function(e){return confirm(e)},ajax:function(e){return d.ajax(e)},href:function(e){return e.attr("href")},handleRemote:function(n){var e,t,i,r,a,o,s,l;if(f.fire(n,"ajax:before")){if(a=(r=n.data("cross-domain"))===h?null:r,o=n.data("with-credentials")||null,s=n.data("type")||d.ajaxSettings&&d.ajaxSettings.dataType,n.is("form")){e=n.attr("method"),t=n.attr("action"),i=n.serializeArray();var c=n.data("ujs:submit-button");c&&(i.push(c),n.data("ujs:submit-button",null))}else n.is(f.inputChangeSelector)?(e=n.data("method"),t=n.data("url"),i=n.serialize(),n.data("params")&&(i=i+"&"+n.data("params"))):n.is(f.buttonClickSelector)?(e=n.data("method")||"get",t=n.data("url"),i=n.serialize(),n.data("params")&&(i=i+"&"+n.data("params"))):(e=n.data("method"),t=f.href(n),i=n.data("params")||null);l={type:e||"GET",data:i,dataType:s,beforeSend:function(e,t){return t.dataType===h&&e.setRequestHeader("accept","*/*;q=0.5, "+t.accepts.script),f.fire(n,"ajax:beforeSend",[e,t])},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},crossDomain:a},o&&(l.xhrFields={withCredentials:o}),t&&(l.url=t);var u=f.ajax(l);return n.trigger("ajax:send",u),u}return!1},handleMethod:function(e){var t=f.href(e),i=e.data("method"),n=e.attr("target"),r=d("meta[name=csrf-token]").attr("content"),a=d("meta[name=csrf-param]").attr("content"),o=d('<form method="post" action="'+t+'"></form>'),s='<input name="_method" value="'+i+'" type="hidden" />';a!==h&&r!==h&&(s+='<input name="'+a+'" value="'+r+'" type="hidden" />'),n&&o.attr("target",n),o.hide().append(s).appendTo("body"),o.submit()},disableFormElements:function(e){e.find(f.disableSelector).each(function(){var e=d(this),t=e.is("button")?"html":"val";e.data("ujs:enable-with",e[t]()),e[t](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(f.enableSelector).each(function(){var e=d(this),t=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[t](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(e){var t,i=e.data("confirm"),n=!1;return!i||(f.fire(e,"confirm")&&(n=f.confirm(i),t=f.fire(e,"confirm:complete",[n])),n&&t)},blankInputs:function(e,t,i){var n,r=d(),a=t||"input,textarea",o=e.find(a);return o.each(function(){if(n=d(this),!(n.is("input[type=checkbox],input[type=radio]")?n.is(":checked"):n.val())==!i){if(n.is("input[type=radio]")&&o.filter('input[type=radio]:checked[name="'+n.attr("name")+'"]').length)return!0;r=r.add(n)}}),!!r.length&&r},nonBlankInputs:function(e,t){return f.blankInputs(e,t,!0)},stopEverything:function(e){return d(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return f.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==h&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},f.fire(e,"rails:attachBindings")&&(d.ajaxPrefilter(function(e,t,i){e.crossDomain||f.CSRFProtection(i)}),e.delegate(f.linkDisableSelector,"ajax:complete",function(){f.enableElement(d(this))}),e.delegate(f.linkClickSelector,"click.rails",function(e){var t=d(this),i=t.data("method"),n=t.data("params");if(!f.allowAction(t))return f.stopEverything(e);if(t.is(f.linkDisableSelector)&&f.disableElement(t),t.data("remote")!==h){if((e.metaKey||e.ctrlKey)&&(!i||"GET"===i)&&!n)return!0;var r=f.handleRemote(t);return!1===r?f.enableElement(t):r.error(function(){f.enableElement(t)}),!1}return t.data("method")?(f.handleMethod(t),!1):void 0}),e.delegate(f.buttonClickSelector,"click.rails",function(e){var t=d(this);return f.allowAction(t)?(f.handleRemote(t),!1):f.stopEverything(e)}),e.delegate(f.inputChangeSelector,"change.rails",function(e){var t=d(this);return f.allowAction(t)?(f.handleRemote(t),!1):f.stopEverything(e)}),e.delegate(f.formSubmitSelector,"submit.rails",function(e){var t=d(this),i=t.data("remote")!==h,n=f.blankInputs(t,f.requiredInputSelector),r=f.nonBlankInputs(t,f.fileInputSelector);if(!f.allowAction(t))return f.stopEverything(e);if(n&&t.attr("novalidate")==h&&f.fire(t,"ajax:aborted:required",[n]))return f.stopEverything(e);if(i){if(r){setTimeout(function(){f.disableFormElements(t)},13);var a=f.fire(t,"ajax:aborted:file",[r]);return a||setTimeout(function(){f.enableFormElements(t)},13),a}return f.handleRemote(t),!1}setTimeout(function(){f.disableFormElements(t)},13)}),e.delegate(f.formInputClickSelector,"click.rails",function(e){var t=d(this);if(!f.allowAction(t))return f.stopEverything(e);var i=t.attr("name"),n=i?{name:i,value:t.val()}:null;t.closest("form").data("ujs:submit-button",n)}),e.delegate(f.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&f.disableFormElements(d(this))}),e.delegate(f.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&f.enableFormElements(d(this))}),d(function(){var e=d("meta[name=csrf-token]").attr("content"),t=d("meta[name=csrf-param]").attr("content");d('form input[name="'+t+'"]').val(e)}))}(jQuery),function(g){g.fn.ajaxSubmit=function(b){function e(){function a(){if(!f++){u.detachEvent?u.detachEvent("onload",a):u.removeEventListener("load",a,!1);var e=!0;try{if(p)throw"timeout";var t,i;if(i=u.contentWindow?u.contentWindow.document:u.contentDocument?u.contentDocument:u.document,d.responseText=i.body?i.body.innerHTML:null,d.responseXML=i.XMLDocument?i.XMLDocument:i,d.getResponseHeader=function(e){return{"content-type":s.dataType}[e]},"json"==s.dataType||"script"==s.dataType){var n=i.getElementsByTagName("textarea")[0];d.responseText=n?n.value:d.responseText}else"xml"!=s.dataType||d.responseXML||null==d.responseText||(d.responseXML=o(d.responseText));t=g.httpData(d,s.dataType)}catch(r){e=!1,g.handleError(s,d,"error",r)}e&&(s.success(t,"success"),h&&g.event.trigger("ajaxSuccess",[d,s])),h&&g.event.trigger("ajaxComplete",[d,s]),h&&!--g.active&&g.event.trigger("ajaxStop"),s.complete&&s.complete(d,e?"success":"error"),setTimeout(function(){c.remove(),d.responseXML=null},100)}}function o(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.tagName?t:null}var r=m[0],s=g.extend({},g.ajaxSettings,b),l="jqFormIO"+(new Date).getTime(),c=g('<iframe id="'+l+'" name="'+l+'" />'),u=c[0],e=g.browser.opera&&window.opera.version()<9;(g.browser.msie||e)&&(u.src='javascript:false;document.write("");'),c.css({position:"absolute",top:"-1000px",left:"-1000px"});var d={responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){}},h=s.global;h&&!g.active++&&g.event.trigger("ajaxStart"),h&&g.event.trigger("ajaxSend",[d,s]);var f=0,p=0;setTimeout(function(){var e=m.attr("target"),t=m.attr("action");m.attr({target:l,encoding:"multipart/form-data",enctype:"multipart/form-data",method:"POST",action:s.url}),s.timeout&&setTimeout(function(){p=!0,a()},s.timeout);var i=[];try{if(b.extraData)for(var n in b.extraData)i.push(g('<input type="hidden" name="'+n+'" value="'+b.extraData[n]+'" />').appendTo(r)[0]);c.appendTo("body"),u.attachEvent?u.attachEvent("onload",a):u.addEventListener("load",a,!1),r.submit()}finally{m.attr("action",t),e?m.attr("target",e):m.removeAttr("target"),g(i).remove()}},10)}"function"==typeof b&&(b={success:b}),b=g.extend({url:this.attr("action")||window.location.toString(),type:this.attr("method")||"GET"},b||{});var t={};if(this.trigger("form-pre-serialize",[this,b,t]),t.veto)return this;var i=this.formToArray(b.semantic);if(b.data)for(var n in b.extraData=b.data,b.data)i.push({name:n,value:b.data[n]});if(b.beforeSubmit&&!1===b.beforeSubmit(i,this,b))return this;if(this.trigger("form-submit-validate",[i,this,b,t]),t.veto)return this;var r=g.param(i);"GET"==b.type.toUpperCase()?(b.url+=(0<=b.url.indexOf("?")?"&":"?")+r,b.data=null):b.data=r;var m=this,a=[];if(b.resetForm&&a.push(function(){m.resetForm()}),b.clearForm&&a.push(function(){m.clearForm()}),!b.dataType&&b.target){var o=b.success||function(){};a.push(function(e){g(b.target).html(e).each(o,arguments)})}else b.success&&a.push(b.success);b.success=function(e,t){for(var i=0,n=a.length;i<n;i++)a[i](e,t,m)};for(var s=g("input:file",this).fieldValue(),l=!1,c=0;c<s.length;c++)s[c]&&(l=!0);return b.iframe||l?g.browser.safari&&b.closeKeepAlive?g.get(b.closeKeepAlive,e):e():g.ajax(b),this.trigger("form-submit-notify",[this,b]),this},g.fn.ajaxForm=function(e){return this.ajaxFormUnbind().bind("submit.form-plugin",function(){return g(this).ajaxSubmit(e),!1}).each(function(){g(":submit,input:image",this).bind("click.form-plugin",function(e){var t=this.form;if("image"==(t.clk=this).type)if(e.offsetX!=undefined)t.clk_x=e.offsetX,t.clk_y=e.offsetY;else if("function"==typeof g.fn.offset){var i=g(this).offset();t.clk_x=e.pageX-i.left,t.clk_y=e.pageY-i.top}else t.clk_x=e.pageX-this.offsetLeft,t.clk_y=e.pageY-this.offsetTop;setTimeout(function(){t.clk=t.clk_x=t.clk_y=null},10)})})},g.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin"),this.each(function(){g(":submit,input:image",this).unbind("click.form-plugin")})},g.fn.formToArray=function(e){var t=[];if(0==this.length)return t;var i=this[0],n=e?i.getElementsByTagName("*"):i.elements;if(!n)return t;for(var r=0,a=n.length;r<a;r++){var o=n[r];if(d=o.name)if(e&&i.clk&&"image"==o.type)o.disabled||i.clk!=o||t.push({name:d+".x",value:i.clk_x},{name:d+".y",value:i.clk_y});else{var s=g.fieldValue(o,!0);if(s&&s.constructor==Array)for(var l=0,c=s.length;l<c;l++)t.push({name:d,value:s[l]});else null!=s&&t.push({name:d,value:s})}}if(!e&&i.clk){var u=i.getElementsByTagName("input");for(r=0,a=u.length;r<a;r++){var d,h=u[r];(d=h.name)&&!h.disabled&&"image"==h.type&&i.clk==h&&t.push({name:d+".x",value:i.clk_x},{name:d+".y",value:i.clk_y})}}return t},g.fn.formSerialize=function(e){return g.param(this.formToArray(e))},g.fn.fieldSerialize=function(r){var a=[];return this.each(function(){var e=this.name;if(e){var t=g.fieldValue(this,r);if(t&&t.constructor==Array)for(var i=0,n=t.length;i<n;i++)a.push({name:e,value:t[i]});else null!=t&&a.push({name:this.name,value:t})}}),g.param(a)},g.fn.fieldValue=function(e){for(var t=[],i=0,n=this.length;i<n;i++){var r=this[i],a=g.fieldValue(r,e);null==a||a.constructor==Array&&!a.length||(a.constructor==Array?g.merge(t,a):t.push(a))}return t},g.fieldValue=function(e,t){var i=e.name,n=e.type,r=e.tagName.toLowerCase();if(void 0===t&&(t=!0),t&&(!i||e.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!e.checked||("submit"==n||"image"==n)&&e.form&&e.form.clk!=e||"select"==r&&-1==e.selectedIndex))return null;if("select"==r){var a=e.selectedIndex;if(a<0)return null;for(var o=[],s=e.options,l="select-one"==n,c=l?a+1:s.length,u=l?a:0;u<c;u++){var d=s[u];if(d.selected){var h=g.browser.msie&&!d.attributes.value.specified?d.text:d.value;if(l)return h;o.push(h)}}return o}return e.value},g.fn.clearForm=function(){return this.each(function(){g("input,select,textarea",this).clearFields()})},g.fn.clearFields=g.fn.clearInputs=function(){return this.each(function(){var e=this.type,t=this.tagName.toLowerCase();"text"==e||"password"==e||"textarea"==t?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==t&&(this.selectedIndex=-1)})},g.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},g.fn.enable=function(e){return e==undefined&&(e=!0),this.each(function(){this.disabled=!e})},g.fn.select=function(i){return i==undefined&&(i=!0),this.each(function(){var e=this.type;if("checkbox"==e||"radio"==e)this.checked=i;else if("option"==this.tagName.toLowerCase()){var t=g(this).parent("select");i&&t[0]&&"select-one"==t[0].type&&t.find("option").select(!1),this.selected=i}})}}(jQuery),function(l){function s(e,t){return"function"==typeof e?e.call(t):e}function t(e){for(;e=e.parentNode;)if(e==document)return!0;return!1}function c(e,t){this.$element=l(e),this.options=t,this.enabled=!0,this.fixTitle()}c.prototype={show:function(){var e=this.getTitle();if(e&&this.enabled){var t=this.tip();t.find(".tipsy-inner")[this.options.html?"html":"text"](e),t[0].className="tipsy",t.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var i,n=l.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),r=t[0].offsetWidth,a=t[0].offsetHeight,o=s(this.options.gravity,this.$element[0]);switch(o.charAt(0)){case"n":i={top:n.top+n.height+this.options.offset,left:n.left+n.width/2-r/2};break;case"s":i={top:n.top-a-this.options.offset,left:n.left+n.width/2-r/2};break;case"e":i={top:n.top+n.height/2-a/2,left:n.left-r-this.options.offset};break;case"w":i={top:n.top+n.height/2-a/2,left:n.left+n.width+this.options.offset}}2==o.length&&("w"==o.charAt(1)?i.left=n.left+n.width/2-15:i.left=n.left+n.width/2-r+15),t.css(i).addClass("tipsy-"+o),t.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+o.charAt(0),this.options.className&&t.addClass(s(this.options.className,this.$element[0])),this.options.fade?t.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):t.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){l(this).remove()}):this.tip().remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,i=this.options;return this.fixTitle(),"string"==typeof(i=this.options).title?e=t.attr("title"==i.title?"original-title":i.title):"function"==typeof i.title&&(e=i.title.call(t[0])),(e=(""+e).replace(/(^\s*|\s*$)/,""))||i.fallback},tip:function(){return this.$tip||(this.$tip=l('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},l.fn.tipsy=function(i){function t(e){var t=l.data(e,"tipsy");return t||(t=new c(e,l.fn.tipsy.elementOptions(e,i)),l.data(e,"tipsy",t)),t}function e(){var e=t(this);e.hoverState="in",0==i.delayIn?e.show():(e.fixTitle(),setTimeout(function(){"in"==e.hoverState&&e.show()},i.delayIn))}function n(){var e=t(this);e.hoverState="out",0==i.delayOut?e.hide():setTimeout(function(){"out"==e.hoverState&&e.hide()},i.delayOut)}if(!0===i)return this.data("tipsy");if("string"==typeof i){var r=this.data("tipsy");return r&&r[i](),this}if((i=l.extend({},l.fn.tipsy.defaults,i)).live||this.each(function(){t(this)}),"manual"!=i.trigger){var a=i.live?"live":"bind",o="hover"==i.trigger?"mouseenter":"focus",s="hover"==i.trigger?"mouseleave":"blur";this[a](o,e)[a](s,n)}return this},l.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},l.fn.tipsy.revalidate=function(){l(".tipsy").each(function(){var e=l.data(this,"tipsy-pointee");e&&t(e)||l(this).remove()})},l.fn.tipsy.elementOptions=function(e,t){return l.metadata?l.extend({},t,l(e).metadata()):t},l.fn.tipsy.autoNS=function(){return l(this).offset().top>l(document).scrollTop()+l(window).height()/2?"s":"n"},l.fn.tipsy.autoWE=function(){return l(this).offset().left>l(document).scrollLeft()+l(window).width()/2?"e":"w"},l.fn.tipsy.autoBounds=function(r,a){return function(){var e={ns:a[0],ew:1<a.length&&a[1]},t=l(document).scrollTop()+r,i=l(document).scrollLeft()+r,n=l(this);return n.offset().top<t&&(e.ns="n"),n.offset().left<i&&(e.ew="w"),l(window).width()+l(document).scrollLeft()-n.offset().left<r&&(e.ew="e"),l(window).height()+l(document).scrollTop()-n.offset().top<r&&(e.ns="s"),e.ns+(e.ew?e.ew:"")}}}(jQuery),function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(function(Ae){"use strict";function n(i){return!i||i.allowPageScroll!==undefined||i.swipe===undefined&&i.swipeStatus===undefined||(i.allowPageScroll=Fe),i.click!==undefined&&i.tap===undefined&&(i.tap=i.click),i||(i={}),i=Ae.extend({},Ae.fn.swipe.defaults,i),this.each(function(){var e=Ae(this),t=e.data(tt);t||(t=new r(this,i),e.data(tt,t))})}function r(e,s){function t(e){if(!(F()||0<Ae(e.target).closest(s.excludedElements,ve).length)){var t,i=e.originalEvent?e.originalEvent:e,n=i.touches,r=n?n[0]:i;return ye=We,n?we=n.length:e.preventDefault(),me=ue=null,pe=1,be=fe=he=de=ce=0,Se=B(),ge=V(),H(),!n||we===s.fingers||s.fingers===Ke||g()?(R(0,r),Te=ee(),2==we&&(R(1,n[1]),he=fe=W(Se[0].start,Se[1].start)),(s.swipeStatus||s.pinchStatus)&&(t=c(i,ye))):t=!1,!1===t?(c(i,ye=Ye),t):(s.hold&&(Ee=setTimeout(Ae.proxy(function(){ve.trigger("hold",[i.target]),s.hold&&(t=s.hold.call(ve,i,i.target))},this),s.longTapThreshold)),U(!0),null)}}function i(e){var t=e.originalEvent?e.originalEvent:e;if(ye!==Xe&&ye!==Ye&&!j()){var i,n=t.touches,r=N(n?n[0]:t);if($e=ee(),n&&(we=n.length),s.hold&&clearTimeout(Ee),ye=Qe,2==we&&(0==he?(R(1,n[1]),he=fe=W(Se[0].start,Se[1].start)):(N(n[1]),fe=W(Se[0].end,Se[1].end),me=X(Se[0].end,Se[1].end)),pe=Q(he,fe),be=Math.abs(he-fe)),we===s.fingers||s.fingers===Ke||!n||g()){if(b(e,ue=Z(r.start,r.end)),ce=Y(r.start,r.end),de=G(),z(ue,ce),(s.swipeStatus||s.pinchStatus)&&(i=c(t,ye)),!s.triggerOnTouchEnd||s.triggerOnTouchLeave){var a=!0;if(s.triggerOnTouchLeave){var o=te(this);a=ie(r.end,o)}!s.triggerOnTouchEnd&&a?ye=l(Qe):s.triggerOnTouchLeave&&!a&&(ye=l(Xe)),ye!=Ye&&ye!=Xe||c(t,ye)}}else c(t,ye=Ye);!1===i&&c(t,ye=Ye)}}function n(e){var t=e.originalEvent?e.originalEvent:e,i=t.touches;return i&&i.length?(L(),!0):(j()&&(we=De),$e=ee(),de=G(),h()||!d()?c(t,ye=Ye):s.triggerOnTouchEnd||0==s.triggerOnTouchEnd&&ye===Qe?(e.preventDefault(),c(t,ye=Xe)):!s.triggerOnTouchEnd&&k()?u(t,ye=Xe,Me):ye===Qe&&c(t,ye=Ye),U(!1),null)}function r(){fe=he=Te=$e=we=0,pe=1,H(),U(!1)}function a(e){var t=e.originalEvent?e.originalEvent:e;s.triggerOnTouchLeave&&c(t,ye=l(Xe))}function o(){ve.unbind(re,t),ve.unbind(le,r),ve.unbind(ae,i),ve.unbind(oe,n),se&&ve.unbind(se,a),U(!1)}function l(e){var t=e,i=p(),n=d(),r=h();return!i||r?t=Ye:!n||e!=Qe||s.triggerOnTouchEnd&&!s.triggerOnTouchLeave?!n&&e==Xe&&s.triggerOnTouchLeave&&(t=Ye):t=Xe,t}function c(e,t){var i,n=e.touches;return S()||w()||v()||g()?((S()||w())&&(i=u(e,t,Re)),(v()||g())&&!1!==i&&(i=u(e,t,Ne))):_()&&!1!==i?i=u(e,t,Be):P()&&!1!==i?i=u(e,t,ze):O()&&!1!==i&&(i=u(e,t,Me)),t===Ye&&r(e),t===Xe&&(n&&n.length||r(e)),i}function u(e,t,i){var n;if(i==Re){if(ve.trigger("swipeStatus",[t,ue||null,ce||0,de||0,we,Se]),s.swipeStatus&&!1===(n=s.swipeStatus.call(ve,e,t,ue||null,ce||0,de||0,we,Se)))return!1;if(t==Xe&&y()){if(ve.trigger("swipe",[ue,ce,de,we,Se]),s.swipe&&!1===(n=s.swipe.call(ve,e,ue,ce,de,we,Se)))return!1;switch(ue){case Oe:ve.trigger("swipeLeft",[ue,ce,de,we,Se]),s.swipeLeft&&(n=s.swipeLeft.call(ve,e,ue,ce,de,we,Se));break;case _e:ve.trigger("swipeRight",[ue,ce,de,we,Se]),s.swipeRight&&(n=s.swipeRight.call(ve,e,ue,ce,de,we,Se));break;case Pe:ve.trigger("swipeUp",[ue,ce,de,we,Se]),s.swipeUp&&(n=s.swipeUp.call(ve,e,ue,ce,de,we,Se));break;case Le:ve.trigger("swipeDown",[ue,ce,de,we,Se]),s.swipeDown&&(n=s.swipeDown.call(ve,e,ue,ce,de,we,Se))}}}if(i==Ne){if(ve.trigger("pinchStatus",[t,me||null,be||0,de||0,we,pe,Se]),s.pinchStatus&&!1===(n=s.pinchStatus.call(ve,e,t,me||null,be||0,de||0,we,pe,Se)))return!1;if(t==Xe&&m())switch(me){case He:ve.trigger("pinchIn",[me||null,be||0,de||0,we,pe,Se]),s.pinchIn&&(n=s.pinchIn.call(ve,e,me||null,be||0,de||0,we,pe,Se));break;case je:ve.trigger("pinchOut",[me||null,be||0,de||0,we,pe,Se]),s.pinchOut&&(n=s.pinchOut.call(ve,e,me||null,be||0,de||0,we,pe,Se))}}return i==Me?t!==Ye&&t!==Xe||(clearTimeout(Ce),clearTimeout(Ee),D()&&!E()?(xe=ee(),Ce=setTimeout(Ae.proxy(function(){xe=null,ve.trigger("tap",[e.target]),s.tap&&(n=s.tap.call(ve,e,e.target))},this),s.doubleTapThreshold)):(xe=null,ve.trigger("tap",[e.target]),s.tap&&(n=s.tap.call(ve,e,e.target)))):i==Be?t!==Ye&&t!==Xe||(clearTimeout(Ce),xe=null,ve.trigger("doubletap",[e.target]),s.doubleTap&&(n=s.doubleTap.call(ve,e,e.target))):i==ze&&(t!==Ye&&t!==Xe||(clearTimeout(Ce),xe=null,ve.trigger("longtap",[e.target]),s.longTap&&(n=s.longTap.call(ve,e,e.target)))),n}function d(){var e=!0;return null!==s.threshold&&(e=ce>=s.threshold),e}function h(){var e=!1;return null!==s.cancelThreshold&&null!==ue&&(e=q(ue)-ce>=s.cancelThreshold),e}function f(){return null===s.pinchThreshold||be>=s.pinchThreshold}function p(){return!s.maxTimeThreshold||!(de>=s.maxTimeThreshold)}function b(e,t){if(!1!==s.preventDefaultEvents)if(s.allowPageScroll===Fe)e.preventDefault();else{var i=s.allowPageScroll===Ue;switch(t){case Oe:(s.swipeLeft&&i||!i&&s.allowPageScroll!=qe)&&e.preventDefault();break;case _e:(s.swipeRight&&i||!i&&s.allowPageScroll!=qe)&&e.preventDefault();break;case Pe:(s.swipeUp&&i||!i&&s.allowPageScroll!=Ve)&&e.preventDefault();break;case Le:(s.swipeDown&&i||!i&&s.allowPageScroll!=Ve)&&e.preventDefault()}}}function m(){var e=T(),t=$(),i=f();return e&&t&&i}function g(){return!!(s.pinchStatus||s.pinchIn||s.pinchOut)}function v(){return!(!m()||!g())}function y(){var e=p(),t=d(),i=T(),n=$();return!h()&&n&&i&&t&&e}function w(){return!!(s.swipe||s.swipeStatus||s.swipeLeft||s.swipeRight||s.swipeUp||s.swipeDown)}function S(){return!(!y()||!w())}function T(){return we===s.fingers||s.fingers===Ke||!Je}function $(){return 0!==Se[0].end.x}function k(){return!!s.tap}function D(){return!!s.doubleTap}function x(){return!!s.longTap}function C(){if(null==xe)return!1;var e=ee();return D()&&e-xe<=s.doubleTapThreshold}function E(){return C()}function I(){return(1===we||!Je)&&(isNaN(ce)||ce<s.threshold)}function A(){return de>s.longTapThreshold&&ce<Ge}function O(){return!(!I()||!k())}function _(){return!(!C()||!D())}function P(){return!(!A()||!x())}function L(){ke=ee(),De=event.touches.length+1}function H(){De=ke=0}function j(){var e=!1;ke&&(ee()-ke<=s.fingerReleaseThreshold&&(e=!0));return e}function F(){return!(!0!==ve.data(tt+"_intouch"))}function U(e){!0===e?(ve.bind(ae,i),ve.bind(oe,n),se&&ve.bind(se,a)):(ve.unbind(ae,i,!1),ve.unbind(oe,n,!1),se&&ve.unbind(se,a,!1)),ve.data(tt+"_intouch",!0===e)}function R(e,t){var i=t.identifier!==undefined?t.identifier:0;return Se[e].identifier=i,Se[e].start.x=Se[e].end.x=t.pageX||t.clientX,Se[e].start.y=Se[e].end.y=t.pageY||t.clientY,Se[e]}function N(e){var t=M(e.identifier!==undefined?e.identifier:0);return t.end.x=e.pageX||e.clientX,t.end.y=e.pageY||e.clientY,t}function M(e){for(var t=0;t<Se.length;t++)if(Se[t].identifier==e)return Se[t]}function B(){for(var e=[],t=0;t<=5;t++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}function z(e,t){t=Math.max(t,q(e)),ge[e].distance=t}function q(e){return ge[e]?ge[e].distance:undefined}function V(){var e={};return e[Oe]=K(Oe),e[_e]=K(_e),e[Pe]=K(Pe),e[Le]=K(Le),e}function K(e){return{direction:e,distance:0}}function G(){return $e-Te}function W(e,t){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.round(Math.sqrt(i*i+n*n))}function Q(e,t){return(t/e*1).toFixed(2)}function X(){return pe<1?je:He}function Y(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function J(e,t){var i=e.x-t.x,n=t.y-e.y,r=Math.atan2(n,i),a=Math.round(180*r/Math.PI);return a<0&&(a=360-Math.abs(a)),a}function Z(e,t){var i=J(e,t);return i<=45&&0<=i?Oe:i<=360&&315<=i?Oe:135<=i&&i<=225?_e:45<i&&i<135?Le:Pe}function ee(){return(new Date).getTime()}function te(e){var t=(e=Ae(e)).offset();return{left:t.left,right:t.left+e.outerWidth(),top:t.top,bottom:t.top+e.outerHeight()}}function ie(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}var ne=Je||et||!s.fallbackToMouseEvents,re=ne?et?Ze?"MSPointerDown":"pointerdown":"touchstart":"mousedown",ae=ne?et?Ze?"MSPointerMove":"pointermove":"touchmove":"mousemove",oe=ne?et?Ze?"MSPointerUp":"pointerup":"touchend":"mouseup",se=ne?null:"mouseleave",le=et?Ze?"MSPointerCancel":"pointercancel":"touchcancel",ce=0,ue=null,de=0,he=0,fe=0,pe=1,be=0,me=0,ge=null,ve=Ae(e),ye="start",we=0,Se=null,Te=0,$e=0,ke=0,De=0,xe=0,Ce=null,Ee=null;try{ve.bind(re,t),ve.bind(le,r)}catch(Ie){Ae.error("events not supported "+re+","+le+" on jQuery.swipe")}this.enable=function(){return ve.bind(re,t),ve.bind(le,r),ve},this.disable=function(){return o(),ve},this.destroy=function(){o(),ve.data(tt,null),ve=null},this.option=function(e,t){if(s[e]!==undefined){if(t===undefined)return s[e];s[e]=t}else Ae.error("Option "+e+" does not exist on jQuery.swipe.options");return null}}var e="1.6.9",Oe="left",_e="right",Pe="up",Le="down",He="in",je="out",Fe="none",Ue="auto",Re="swipe",Ne="pinch",Me="tap",Be="doubletap",ze="longtap",qe="horizontal",Ve="vertical",Ke="all",Ge=10,We="start",Qe="move",Xe="end",Ye="cancel",Je="ontouchstart"in window,Ze=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,et=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,tt="TouchSwipe",t={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0};Ae.fn.swipe=function(e){var t=Ae(this),i=t.data(tt);if(i&&"string"==typeof e){if(i[e])return i[e].apply(this,Array.prototype.slice.call(arguments,1));Ae.error("Method "+e+" does not exist on jQuery.swipe")}else if(!(i||"object"!=typeof e&&e))return n.apply(this,arguments);return t},Ae.fn.swipe.version=e,Ae.fn.swipe.defaults=t,Ae.fn.swipe.phases={PHASE_START:We,PHASE_MOVE:Qe,PHASE_END:Xe,PHASE_CANCEL:Ye},Ae.fn.swipe.directions={LEFT:Oe,RIGHT:_e,UP:Pe,DOWN:Le,IN:He,OUT:je},Ae.fn.swipe.pageScroll={NONE:Fe,HORIZONTAL:qe,VERTICAL:Ve,AUTO:Ue},Ae.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:Ke}}),function(e,n){"use strict";var t=e.History=e.History||{},r=e.jQuery;if("undefined"!=typeof t.Adapter)throw new Error("History.js Adapter has already been loaded...");t.Adapter={bind:function(e,t,i){r(e).bind(t,i)},trigger:function(e,t,i){r(e).trigger(t,i)},extractEventData:function(e,t,i){return t&&t.originalEvent&&t.originalEvent[e]||i&&i[e]||n},onDomLoad:function(e){r(e)}},"undefined"!=typeof t.init&&t.init()}(window),function(o,i){"use strict";var l=o.console||i,c=o.document,n=o.navigator,r=!1,a=o.setTimeout,s=o.clearTimeout,u=o.setInterval,d=o.clearInterval,h=o.JSON,f=o.alert,p=o.History=o.History||{},b=o.history;try{(r=o.sessionStorage).setItem("TEST","1"),r.removeItem("TEST")}catch(e){r=!1}if(h.stringify=h.stringify||h.encode,h.parse=h.parse||h.decode,"undefined"!=typeof p.init)throw new Error("History.js Core has already been loaded...");p.init=function(){return"undefined"!=typeof p.Adapter&&("undefined"!=typeof p.initCore&&p.initCore(),"undefined"!=typeof p.initHtml4&&p.initHtml4(),!0)},p.initCore=function(){if("undefined"!=typeof p.initCore.initialized)return!1;if(p.initCore.initialized=!0,p.options=p.options||{},p.options.hashChangeInterval=p.options.hashChangeInterval||100,p.options.safariPollInterval=p.options.safariPollInterval||500,p.options.doubleCheckInterval=p.options.doubleCheckInterval||500,p.options.disableSuid=p.options.disableSuid||!1,p.options.storeInterval=p.options.storeInterval||1e3,p.options.busyDelay=p.options.busyDelay||250,p.options.debug=p.options.debug||!1,p.options.initialTitle=p.options.initialTitle||c.title,p.options.html4Mode=p.options.html4Mode||!1,p.options.delayInit=p.options.delayInit||!1,p.intervalList=[],p.clearAllIntervals=function(){var e,t=p.intervalList;if(null!=t){for(e=0;e<t.length;e++)d(t[e]);p.intervalList=null}},p.debug=function(){p.options.debug&&p.log.apply(p,arguments)},p.log=function(e){var t,i,n,r,a,o=void 0!==l&&"undefined"!=typeof l.log&&"undefined"!=typeof l.log.apply,s=c.getElementById("log");for(o?(t=(r=Array.prototype.slice.call(arguments)).shift(),"undefined"!=typeof l.debug?l.debug.apply(l,[t,r]):l.log.apply(l,[t,r])):t="\n"+e+"\n",i=1,n=arguments.length;i<n;++i){if("object"==typeof(a=arguments[i])&&void 0!==h)try{a=h.stringify(a)}catch(d){}t+="\n"+a+"\n"}return s?(s.value+=t+"\n-----\n",s.scrollTop=s.scrollHeight-s.clientHeight):o||f(t),!0},p.getInternetExplorerMajorVersion=function(){return p.getInternetExplorerMajorVersion.cached="undefined"!=typeof p.getInternetExplorerMajorVersion.cached?p.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=c.createElement("div"),i=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&i[0];);return 4<e&&e}()},p.isInternetExplorer=function(){return p.isInternetExplorer.cached="undefined"!=typeof p.isInternetExplorer.cached?p.isInternetExplorer.cached:Boolean(p.getInternetExplorerMajorVersion())},p.options.html4Mode?p.emulated={pushState:!0,hashChange:!0}:p.emulated={pushState:!Boolean(o.history&&o.history.pushState&&o.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(n.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(n.userAgent)),hashChange:Boolean(!("onhashchange"in o||"onhashchange"in c)||p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8)},p.enabled=!p.emulated.pushState,p.bugs={setHash:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===n.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(n.userAgent)),safariPoll:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===n.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(n.userAgent)),ieDoubleCheck:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<7)},p.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},
p.cloneObject=function(e){var t,i;return e?(t=h.stringify(e),i=h.parse(t)):i={},i},p.getRootUrl=function(){var e=c.location.protocol+"//"+(c.location.hostname||c.location.host);return c.location.port&&(e+=":"+c.location.port),e+="/"},p.getBaseHref=function(){var e=c.getElementsByTagName("base"),t="";return 1===e.length&&(t=e[0].href.replace(/[^\/]+$/,"")),(t=t.replace(/\/+$/,""))&&(t+="/"),t},p.getBaseUrl=function(){return p.getBaseHref()||p.getBasePageUrl()||p.getRootUrl()},p.getPageUrl=function(){return((p.getState(!1,!1)||{}).url||p.getLocationHref()).replace(/\/+$/,"").replace(/[^\/]+$/,function(e){return/\./.test(e)?e:e+"/"})},p.getBasePageUrl=function(){return p.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/"},p.getFullUrl=function(e,t){var i=e,n=e.substring(0,1);return t=void 0===t||t,/[a-z]+\:\/\//.test(e)||(i="/"===n?p.getRootUrl()+e.replace(/^\/+/,""):"#"===n?p.getPageUrl().replace(/#.*/,"")+e:"?"===n?p.getPageUrl().replace(/[\?#].*/,"")+e:t?p.getBaseUrl()+e.replace(/^(\.\/)+/,""):p.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),i.replace(/\#$/,"")},p.getShortUrl=function(e){var t=e,i=p.getBaseUrl(),n=p.getRootUrl();return p.emulated.pushState&&(t=t.replace(i,"")),t=t.replace(n,"/"),p.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},p.getLocationHref=function(e){return(e=e||c).URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},p.store={},p.idToState=p.idToState||{},p.stateToId=p.stateToId||{},p.urlToId=p.urlToId||{},p.storedStates=p.storedStates||[],p.savedStates=p.savedStates||[],p.normalizeStore=function(){p.store.idToState=p.store.idToState||{},p.store.urlToId=p.store.urlToId||{},p.store.stateToId=p.store.stateToId||{}},p.getState=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var i=p.getLastSavedState();return!i&&t&&(i=p.createStateObject()),e&&((i=p.cloneObject(i)).url=i.cleanUrl||i.url),i},p.getIdByState=function(e){var t,i=p.extractId(e.url);if(!i)if(t=p.getStateString(e),"undefined"!=typeof p.stateToId[t])i=p.stateToId[t];else if("undefined"!=typeof p.store.stateToId[t])i=p.store.stateToId[t];else{for(;i=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof p.idToState[i]||"undefined"!=typeof p.store.idToState[i];);p.stateToId[t]=i,p.idToState[i]=e}return i},p.normalizeState=function(e){var t,i;return e&&"object"==typeof e||(e={}),"undefined"!=typeof e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),(t={}).normalized=!0,t.title=e.title||"",t.url=p.getFullUrl(e.url?e.url:p.getLocationHref()),t.hash=p.getShortUrl(t.url),t.data=p.cloneObject(e.data),t.id=p.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,i=!p.isEmptyObject(t.data),(t.title||i)&&!0!==p.options.disableSuid&&(t.hash=p.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=p.getFullUrl(t.hash),(p.emulated.pushState||p.bugs.safariPoll)&&p.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},p.createStateObject=function(e,t,i){var n={data:e,title:t,url:i};return n=p.normalizeState(n)},p.getStateById=function(e){return e=String(e),p.idToState[e]||p.store.idToState[e]||i},p.getStateString=function(e){var t;return t={data:p.normalizeState(e).data,title:e.title,url:e.url},h.stringify(t)},p.getStateId=function(e){return p.normalizeState(e).id},p.getHashByState=function(e){return p.normalizeState(e).hash},p.extractId=function(e){var t,i;return i=-1!=e.indexOf("#")?e.split("#")[0]:e,(t=/(.*)\&_suid=([0-9]+)$/.exec(i))&&t[1]||e,(t?String(t[2]||""):"")||!1},p.isTraditionalAnchor=function(e){return!/[\/\?\.]/.test(e)},p.extractState=function(e,t){var i,n,r=null;return t=t||!1,(i=p.extractId(e))&&(r=p.getStateById(i)),r||(n=p.getFullUrl(e),(i=p.getIdByUrl(n)||!1)&&(r=p.getStateById(i)),!r&&t&&!p.isTraditionalAnchor(e)&&(r=p.createStateObject(null,null,n))),r},p.getIdByUrl=function(e){return p.urlToId[e]||p.store.urlToId[e]||i},p.getLastSavedState=function(){return p.savedStates[p.savedStates.length-1]||i},p.getLastStoredState=function(){return p.storedStates[p.storedStates.length-1]||i},p.hasUrlDuplicate=function(e){var t;return(t=p.extractState(e.url))&&t.id!==e.id},p.storeState=function(e){return p.urlToId[e.url]=e.id,p.storedStates.push(p.cloneObject(e)),e},p.isLastSavedState=function(e){var t=!1;return p.savedStates.length&&(t=e.id===p.getLastSavedState().id),t},p.saveState=function(e){return!p.isLastSavedState(e)&&(p.savedStates.push(p.cloneObject(e)),!0)},p.getStateByIndex=function(e){return void 0===e?p.savedStates[p.savedStates.length-1]:e<0?p.savedStates[p.savedStates.length+e]:p.savedStates[e]},p.getCurrentIndex=function(){return p.savedStates.length<1?0:p.savedStates.length-1},p.getHash=function(e){var t=p.getLocationHref(e);return p.getHashByUrl(t)},p.unescapeHash=function(e){var t=p.normalizeHash(e);return t=decodeURIComponent(t)},p.normalizeHash=function(e){return e.replace(/[^#]*#/,"").replace(/#.*/,"")},p.setHash=function(e,t){var i,n;return!1!==t&&p.busy()?(p.pushQueue({scope:p,callback:p.setHash,args:arguments,queue:t}),!1):(p.busy(!0),(i=p.extractState(e,!0))&&!p.emulated.pushState?p.pushState(i.data,i.title,i.url,!1):p.getHash()!==e&&(p.bugs.setHash?(n=p.getPageUrl(),p.pushState(null,null,n+"#"+e,!1)):c.location.hash=e),p)},p.escapeHash=function(e){var t=p.normalizeHash(e);return t=o.encodeURIComponent(t),p.bugs.hashEscape||(t=t.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),t},p.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=p.unescapeHash(t)},p.setTitle=function(e){var t,i=e.title;i||(t=p.getStateByIndex(0))&&t.url===e.url&&(i=t.title||p.options.initialTitle);try{c.getElementsByTagName("title")[0].innerHTML=i.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(n){}return c.title=i,p},p.queues=[],p.busy=function(e){if(void 0!==e?p.busy.flag=e:"undefined"==typeof p.busy.flag&&(p.busy.flag=!1),!p.busy.flag){s(p.busy.timeout);var n=function(){var e,t,i;if(!p.busy.flag)for(e=p.queues.length-1;0<=e;--e)0!==(t=p.queues[e]).length&&(i=t.shift(),p.fireQueueItem(i),p.busy.timeout=a(n,p.options.busyDelay))};p.busy.timeout=a(n,p.options.busyDelay)}return p.busy.flag},p.busy.flag=!1,p.fireQueueItem=function(e){return e.callback.apply(e.scope||p,e.args||[])},p.pushQueue=function(e){return p.queues[e.queue||0]=p.queues[e.queue||0]||[],p.queues[e.queue||0].push(e),p},p.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),void 0!==t&&(e.queue=t),p.busy()?p.pushQueue(e):p.fireQueueItem(e),p},p.clearQueue=function(){return p.busy.flag=!1,p.queues=[],p},p.stateChanged=!1,p.doubleChecker=!1,p.doubleCheckComplete=function(){return p.stateChanged=!0,p.doubleCheckClear(),p},p.doubleCheckClear=function(){return p.doubleChecker&&(s(p.doubleChecker),p.doubleChecker=!1),p},p.doubleCheck=function(e){return p.stateChanged=!1,p.doubleCheckClear(),p.bugs.ieDoubleCheck&&(p.doubleChecker=a(function(){return p.doubleCheckClear(),p.stateChanged||e(),!0},p.options.doubleCheckInterval)),p},p.safariStatePoll=function(){var e=p.extractState(p.getLocationHref());if(!p.isLastSavedState(e))return e||p.createStateObject(),p.Adapter.trigger(o,"popstate"),p},p.back=function(e){return!1!==e&&p.busy()?(p.pushQueue({scope:p,callback:p.back,args:arguments,queue:e}),!1):(p.busy(!0),p.doubleCheck(function(){p.back(!1)}),b.go(-1),!0)},p.forward=function(e){return!1!==e&&p.busy()?(p.pushQueue({scope:p,callback:p.forward,args:arguments,queue:e}),!1):(p.busy(!0),p.doubleCheck(function(){p.forward(!1)}),b.go(1),!0)},p.go=function(e,t){var i;if(0<e)for(i=1;i<=e;++i)p.forward(t);else{if(!(e<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(i=-1;e<=i;--i)p.back(t)}return p},p.emulated.pushState){var e=function(){};p.pushState=p.pushState||e,p.replaceState=p.replaceState||e}else p.onPopState=function(e,t){var i,n,r=!1,a=!1;return p.doubleCheckComplete(),(i=p.getHash())?((n=p.extractState(i||p.getLocationHref(),!0))?p.replaceState(n.data,n.title,n.url,!1):(p.Adapter.trigger(o,"anchorchange"),p.busy(!1)),p.expectedStateId=!1):((a=(r=p.Adapter.extractEventData("state",e,t)||!1)?p.getStateById(r):p.expectedStateId?p.getStateById(p.expectedStateId):p.extractState(p.getLocationHref()))||(a=p.createStateObject(null,null,p.getLocationHref())),p.expectedStateId=!1,p.isLastSavedState(a)?(p.busy(!1),!1):(p.storeState(a),p.saveState(a),p.setTitle(a),p.Adapter.trigger(o,"statechange"),p.busy(!1),!0))},p.Adapter.bind(o,"popstate",p.onPopState),p.pushState=function(e,t,i,n){if(p.getHashByUrl(i)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==n&&p.busy())return p.pushQueue({scope:p,callback:p.pushState,args:arguments,queue:n}),!1;p.busy(!0);var r=p.createStateObject(e,t,i);return p.isLastSavedState(r)?p.busy(!1):(p.storeState(r),p.expectedStateId=r.id,b.pushState(r.id,r.title,r.url),p.Adapter.trigger(o,"popstate")),!0},p.replaceState=function(e,t,i,n){if(p.getHashByUrl(i)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==n&&p.busy())return p.pushQueue({scope:p,callback:p.replaceState,args:arguments,queue:n}),!1;p.busy(!0);var r=p.createStateObject(e,t,i);return p.isLastSavedState(r)?p.busy(!1):(p.storeState(r),p.expectedStateId=r.id,b.replaceState(r.id,r.title,r.url),p.Adapter.trigger(o,"popstate")),!0};if(r){try{p.store=h.parse(r.getItem("History.store"))||{}}catch(t){p.store={}}p.normalizeStore()}else p.store={},p.normalizeStore();p.Adapter.bind(o,"unload",p.clearAllIntervals),p.saveState(p.storeState(p.extractState(p.getLocationHref(),!0))),r&&(p.onUnload=function(){var e,t,i;try{e=h.parse(r.getItem("History.store"))||{}}catch(c){e={}}for(t in e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{},p.idToState)p.idToState.hasOwnProperty(t)&&(e.idToState[t]=p.idToState[t]);for(t in p.urlToId)p.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=p.urlToId[t]);for(t in p.stateToId)p.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=p.stateToId[t]);p.store=e,p.normalizeStore(),i=h.stringify(e);try{r.setItem("History.store",i)}catch(n){if(n.code!==DOMException.QUOTA_EXCEEDED_ERR)throw n;r.length&&(r.removeItem("History.store"),r.setItem("History.store",i))}},p.intervalList.push(u(p.onUnload,p.options.storeInterval)),p.Adapter.bind(o,"beforeunload",p.onUnload),p.Adapter.bind(o,"unload",p.onUnload)),p.emulated.pushState||(p.bugs.safariPoll&&p.intervalList.push(u(p.safariStatePoll,p.options.safariPollInterval)),"Apple Computer, Inc."!==n.vendor&&"Mozilla"!==(n.appCodeName||"")||(p.Adapter.bind(o,"hashchange",function(){p.Adapter.trigger(o,"popstate")}),p.getHash()&&p.Adapter.onDomLoad(function(){p.Adapter.trigger(o,"hashchange")})))},(!p.options||!p.options.delayInit)&&p.init()}(window);var Dribbble=Dribbble||{};DEVICE_WIDTH_BREAKPOINT="800px",HIDPI_BREAKPOINT="(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2),(min-device-pixel-ratio: 1.5),(min-resolution: 1.5dppx)",$(document).ajaxSend(function(e,t,i){var n=$('meta[name="csrf-token"]').attr("content");i.noCSRF!=undefined&&0!=i.noCSRF||t.setRequestHeader("X-CSRF-Token",n)}),$('a[href="#"]').on("click",function(e){e.preventDefault()}),User={loggedIn:function(){return 0<$("body.logged-in").length},loggedOut:function(){return!this.loggedIn()}},initRecentActivity(),$("#toggle-nav").on("click",function(){return $("#nav").toggleClass("nav-open"),$("body").toggleClass("scroll"),$("html, body").scrollTop(0),!1}),$(".places-location").on("mouseenter",function(){return $(".places-location ul").toggle(),!1}),$("#t-community > a, #t-more > a, #t-profile > a").on("click",function(e){var t=$(this).parent();$("ul#nav").hasClass("nav-open")&&(e.preventDefault(),$(this).toggleClass("back-link"),$("#nav > li:not(#t-activity,#t-upld,#t-messages,#t-signin)").toggle(),t.toggle().toggleClass("nav-expanded"),$("html, body").scrollTop(0))});var notificationSelectors=[".subscribe-to-notification-target",".subscribe-to-notification"],notificationLinkSelectors=$(notificationSelectors).map(function(e,t){return t+" a[data-method]"}).get();$(document).on("ajax:success",notificationLinkSelectors.join(", "),function(e,t){var i=$(e.target);$(i.parents(".subscribe-to-notification-target")[0]||i.closest(notificationSelectors.join(", "))).addClass("subscribe-to-notification").html(t)}),jQuery.fn.showAndHide=function(e){return $(e).hide(),this.show()},jQuery.fn.modelId=function(){var e=$(this).attr("id");if(null==e)return null;var t=e.split(/[-_]/g);return 1<t.length?t[t.length-1]:null},Notify={success:function(e){Notify.notify("success",e)},warning:function(e){Notify.notify("warning",e)},error:function(e){Notify.notify("error",e)},alert:function(e,t){t=t||{};var i=$(".notice-alert"),n=Math.max(0,$("#header").height()-$(document).scrollTop()),r=function(){i.fadeOut(500,function(){i.find("a.close").show()})};if($(document).on("keyup",function(e){27==e.which&&r()}),i.css({top:n+"px"}).find("h3").html(e).end().find("a.close").on("click",function(){r()}).end().show(),t.timeout){i.find("a.close").hide();var a=t.timeout;a="number"==typeof a?a:3e3,setTimeout(r,a)}},clear:function(){$(".notice").hide().removeClass("success warning error").find("h2").text("")},notify:function(e,t){Notify.clear(),$(".ajax.notice").find("h2").html(t).end().find("a.close").on("click",Notify.clear).end().addClass(e).show()},scrollTo:function(){$("html, body").scrollTop($(".notice").offset().top)}},$.fn.clank=function(e,t){if(null!=e){t=void 0!==t?t:{};var i=$(this).closest("fieldset");i.find(".errorExplanation").remove(),explanation='<div class="errorExplanation" id="errorExplanation">',t.noClank||(explanation+="<h2>Clank!</h2>"),Array.isArray(e)||(e=Array(e)),explanation+="<ul>",$.each(e,function(e,t){explanation+="<li>"+t+"</li>"}),explanation+="</ul></div>",i.prepend(explanation),i.addClass("fieldWithErrors")}},ShowAndHideControl=function(e){var t=$(e.target),i=$(e.showControl),n=$(e.hideControl);i.click(function(){return t.showAndHide(i),!1}),n.click(function(){return t.hide(),i.show(),!1})},ResultsPane=function(e){$paneContainer=$(e||"#main");var t=$paneContainer.find(".results-pane"),i=$paneContainer.find("div.processing");return{waiting:function(){i.show(),t.css("opacity",.2)},finished:function(){i.hide(),t.css("opacity",1)},noResults:function(e){e=e||"None",t.html('<div class="null-message"><h2>'+e+"</h2></div>")}}},$("a[data-hover]").on("hover",function(){var e=$(this);e.attr("data-hover-out",e.text()).text(e.attr("data-hover"))},function(){var e=$(this);e.text(e.attr("data-hover-out")),e.removeAttr("data-hover-out")}),$(document).on("click","a.block",function(e){var t=this;$.post(t.href,function(){memberContainer(t).addClass("blocked-by-current-user").removeClass("followed-by-current-user listed-by-current-user")}),e.preventDefault()}),$(document).on("click","a.unblock",function(e){var t=this;$.ajax(t.href,{type:"DELETE",success:function(){memberContainer(t).removeClass("blocked-by-current-user")}}),e.preventDefault()}),$([".remove-from-team a",".leave-team a"]).each(function(e,t){$(document).on("click",".actions-list "+t,function(e){var t=this;$.ajax(t.href,{type:"DELETE",success:function(e){e.error?Notify.error(e.error):Notify.alert(e.success)}}),e.preventDefault()})}),window.matchMedia("screen and (min-width: "+DEVICE_WIDTH_BREAKPOINT+")").matches||$("#main .tabs > li.has-dd > a, div.full-tabs ul.full-tabs-links > li.more > a").on("click",function(){var e=$(this).parent();return e.hasClass("hover")?e.removeClass("hover"):($("#main .tabs > li.hover, div.full-tabs ul.full-tabs-links > li.hover").removeClass("hover"),e.addClass("hover")),!1}),window.innerWidth<870&&$(".vertical-sidenav li.active a").on("click",function(e){e.preventDefault(),$(".vertical-sidenav").toggleClass("open")}),Dribbble.isHistorySupported=function(){return window.history&&"pushState"in window.history},Dribbble.isMobile=function(){return!!window.matchMedia("(max-width: 959px)").matches||!!Dribbble.isMobileSafari()},Dribbble.isMobileSafari=function(){return!!navigator.userAgent.match(/(iPad|iPhone|iPod touch)/)},$("form").on("click",".add_fields",function(e){e.preventDefault();var t=(new Date).getTime(),i=new RegExp($(this).data("id"),"g"),n=$(this);$(this).data("before")&&(n=$($(this).data("before"))),n.before($(this).data("fields").replace(i,t))}),$(document).on("click","a.action.draft",function(){var e=$(this).parent("form");return confirm($(this).data("message")+" "+e.data().userName+"?")&&$(this).parent("form").trigger("submit"),!1}),$(document).on("ajax:success",".draft-form",function(e,t,i,n){$(this).replaceWith(n.responseText)}).on("ajax:error",".draft-form",function(e,t){var i="Hrm\u2026 Something went wrong. If this persists, try refreshing the page.";406==t.status&&(i="This designer has already been invited. Find another designer to draft!",$(this).replaceWith(t.responseText)),Notify.alert(i)}),Dribbble.pathName=function(e){var t=document.createElement("a");t.href=e;var i=t.pathname;return"/"!=i.charAt(0)?"/"+i:i},Dribbble.Analytics={existingProperties:[],sentEvents:[],reset:function(){this.existingProperties=[],this.sentEvents=[],this.namedRoot=null},logDribbbleGAPageView:function(e){window.ga&&("/"==(e=Dribbble.pathName(e))&&(e=Dribbble.Analytics.namedRoot||e),ga("send","pageview",e))},logPageView:function(e,t,i,n){this.log(e,t,"pageview",{page:i,title:n})},log:function(e,t,i,n,r){"undefined"==typeof ga?(r=2*(r||50))<1e4&&setTimeout(function(){this.log(e,t,i,n,r)}.bind(this),r):(this._createProperty(e,t),this._sendEvent(t,i,n))},_createProperty:function(e,t){-1==this.existingProperties.indexOf(e)&&(ga("create",e,"auto",{name:t}),this.existingProperties.push(e))},_sendEvent:function(e,t,i){i=i||{};var n=[e,t,$.param(i)].join("|");-1==this.sentEvents.indexOf(n)&&(ga(e+".send",t,i),this.sentEvents.push(n))}},Dribbble.Url={addParams:function(e,t){var i=e+this.urlJoinCharacter(e),n=[];return($.isArray(t)?t:Object.keys(t).map(function(e){return[e,t[e]]})).forEach(function(e){n.push(e[0]+"="+encodeURIComponent(e[1]))}),i+n.join("&")},parse:function(e){var t=document.createElement("a");return t.href=e,t},urlJoinCharacter:function(e){return-1==e.indexOf("?")?"?":"&"},extractParams:function(e){return e.split("?")[1]}},Dribbble.Segment={queue:[],events:{ab_tested:"Ab Tested",api_request_processed:"Api Request Processed",header_nav_clicked:"Header Nav Clicked",checkout_viewed:"Checkout Viewed",email_subscription_changed:"Email Subscription Changed",form_filled:"Form Filled",job_archived:"Job Archived",job_swapped:"Job Swapped",modal_closed:"Modal Closed",modal_opened:"Modal Opened",onboarding_finished:"Onboarding Finished",onboarding_followings_suggested:"Onboarding Followings Suggested",onboarding_hirer_upsold:"Onboarding Hirer Upsold",onboarding_profile_submitted:"Onboarding Profile Submitted",onboarding_entered:"Onboarding Entered",order_canceled:"Order Canceled",order_purchased:"Order Purchased",order_refunded:"Order Refunded",page_shared:"Page Shared",polyfill_triggered:"Polyfill Triggered",push_notification_delivered:"Push Notification Delivered",push_notification_deregistered:"Push Notification Deregistered",push_notification_failed:"Push Notification Failed",push_notification_registered:"Push Notification Registered",sendgrid_tracked:"Sendgrid Tracked",shot_bucketed:"Shot Bucketed",shot_commented:"Shot Commented",shot_liked:"Shot Liked",shot_projected:"Shot Projected",shot_published:"Shot Published",shot_unbucketed:"Shot Unbucketed",shot_unliked:"Shot Unliked",shot_unprojected:"Shot Unprojected",shot_viewed:"Shot Viewed",signed_up:"Signed Up",subscription_canceled:"Subscription Canceled",subscription_created:"Subscription Created",subscription_downgraded:"Subscription Downgraded",subscription_reactivated:"Subscription Reactivated",subscription_upgraded:"Subscription Upgraded",team_owner_added:"Team Owner Added",team_owner_left:"Team Owner Left",user_followed:"User Followed",user_type_changed:"User Type Changed",user_unfollowed:"User Unfollowed",user_joined_team:"User Joined Team",user_left_team:"User Left Team",work_education_recorded:"Work Education Recorded",work_experience_recorded:"Work Experience Recorded",work_location_recorded:"Work Location Recorded",work_settings_recorded:"Work Settings Recorded"},identify:function(e,t){this.analytics().identify(e,t)},page:function(e){if((e=e||{}).url){var t=Dribbble.Url.parse(e.url),i=""+t.pathname+t.search+t.hash;e.url=t.href,e.path=i}e.controller=e.controller||$("meta[name=segment-controller]").attr("content"),e.action=e.action||$("meta[name=segment-action]").attr("content"),this.analytics().page(e)},track:function(e,t){var i=this.events[e];t=t||{},i!=undefined&&this.analytics().track(i,t)},analytics:function(){return window.analytics||this._shim},processPending:function(){if(window.analytics)for(;0<this.queue.length;){var e=this.queue.shift(),t=e[0],i=e[1];window.analytics[t].apply(window.analytics,i)}},_shim:{identify:function(){Dribbble.Segment.queue.push(["identify",arguments])},page:function(){Dribbble.Segment.queue.push(["page",arguments])},track:function(){Dribbble.Segment.queue.push(["track",arguments])}}},Dribbble.Header={excludeNavSelectors:["#logo a","#toggle-nav",".activity-mini a"],bindEvents:function(){$("#header-inner a").not(this.excludeNavSelectors.join(",")).on("click",this.trackNavClicks)},trackNavClicks:function(){var e=$(this),t="data-top-level",i=e.is("["+t+"]")?e:e.closest("["+t+"]");Dribbble.Segment.track("header_nav_clicked",{current_path:window.location.pathname,clicked_item:{top_level:i.attr(t),text:e.text().replace(/(\r\n|\n|\r)/gm,""),url:e.attr("href")}})}},Dribbble.Header.bindEvents(),Dribbble.ActionMenu={bindEventListeners:function(){$("body").on({mouseenter:this.show.bind(this),mouseleave:this.hide.bind(this)},".actions-menu"),$(".action.settings, .action.grid").on("touchstart",this.toggle.bind(this)),$(".actions-list li a").on("click",function(e){this.hide(e)}.bind(this))},show:function(e){Dribbble.HoverCards&&Dribbble.HoverCards.dismiss(),$(e.target).closest(".actions-menu").addClass("active").find(".actions-list").show()},hide:function(e){$(e.target).closest(".actions-menu").removeClass("active").find(".actions-list").hide()},toggle:function(e){$(e.target).closest(".actions-menu").hasClass("active")?this.hide(e):this.show(e)}},Dribbble.ActionMenu.bindEventListeners(),Dribbble.defaultTipsyOptions={fade:!1,opacity:1,className:function(){return this.getAttribute("data-tipsy-class")},gravity:function(){var e=$(this);if(e.data("tipsy-gravity"))return e.data("tipsy-gravity");var t=100,i=e.offset(),n=i.left,r=i.top;return n<t?"sw":n>$(window).width()-t?r<t?"ne":"se":r<t?"n":"s"}},$("[rel*=tipsy]").tipsy(Dribbble.defaultTipsyOptions),$(document).ajaxSuccess(function(){$("[rel*=tipsy]").tipsy(Dribbble.defaultTipsyOptions)}),Dribbble.throttle=function(n,r,a){var o,s;return a=a||this,function(){var e=+new Date,t=arguments,i=function(){s=e,n.apply(a,t)};s&&e<s+r?o||(o=setTimeout(function(){i(),o=null},e-s+r)):i()}},Dribbble.debounce=function(t,i,n){var r;return n=n||this,function(){clearTimeout(r);var e=arguments;r=setTimeout(function(){t.apply(n,e)},i)}},Dribbble.Profile={init:function(){this.bindEventListeners(),this.fixProfileInfo()},bindEventListeners:function(){$(window).on("scroll.profile",Dribbble.throttle(this.fixProfileInfo.bind(this),25)),$(window).on("resize.profile",this.fixProfileInfo.bind(this)),$(".floating-sidebar-toggle").on("click",function(){return $(this).toggleClass("less"),$(".floating-sidebar-toggle span").text("More"==$(".floating-sidebar-toggle span").text()?"Less":"More"),$(".floating-sidebar-float").toggle(),$(".floating-sidebar-extra").toggle(),!1})},fixProfileInfo:function(){if(window.matchMedia("(max-width: 1180px)").matches)$(".floating-sidebar").removeClass("floating-sidebar-fixed");else{var e=$(window).scrollTop(),t=$(".floating-sidebar:visible").height()+200<e;$(".floating-sidebar-extra").toggle(!t),$(".floating-sidebar").toggleClass("floating-sidebar-fixed",t)}}},Dribbble.Profile.init(),Dribbble.FollowButton=function(e,o){return o=o||function(){return null},{initialize:function(){this.bindEventListeners()},bindEventListeners:function(){User.loggedIn()&&(e.on("click.follow-buttton",".follow-prompt a.follow",this.follow.bind(this)),e.on("click.follow-buttton",".follow-prompt a.unfollow",this.unfollow.bind(this)))},container:function(e){return e.data("container")?$(e.data("container")):memberContainer(e)},follow:function(e){var t=$(e.currentTarget),i=this.container(t);return i.hasClass("blocking-current-user")?Notify.alert("You have been blocked from following this account at the request of the member."):$.ajax(t.attr("href"),{type:"POST",beforeSend:function(){t.addClass("processing")}}).done(function(){i.addClass("followed-by-current-user"),this.modifyFollowerCount(1,i),this.logAnalyticsFollow(t,{action:"follow"}),t.data("notify")&&Notify.success(t.data("notify"))}.bind(this)).fail(function(e){Notify.alert(e.responseText)}).always(function(){t.removeClass("processing")}),!1},unfollow:function(e){var t=$(e.currentTarget),i=this.container(t);return $.ajax(t.attr("href"),{type:"DELETE",beforeSend:function(){t.addClass("processing")}}).done(function(){i.removeClass("followed-by-current-user"),this.modifyFollowerCount(-1,i),this.logAnalyticsFollow(t,{action:"unfollow"}),t.data("notify")&&Notify.success(t.data("notify"))}.bind(this)).always(function(){t.removeClass("processing")}),!1},modifyFollowerCount:function(e,t){var i=o(t);if(i){var n=i.find(".meta"),r=i.find(".count"),a=parseInt(r.first().text().replace(",",""),10)+e;r.text(numberWithDelimiter(a)),1==a?n.text("Follower"):n.text("Followers")}},getAnalyticsInfo:function(e){return $container=e.closest(".follow-prompt"),[$container.data("ga-name"),$container.data("ga-key")]},logAnalyticsFollow:function(e,t){var i=this.getAnalyticsInfo(e);i[0]!==undefined&&Dribbble.Analytics.log(i[1],i[0],"event",{eventCategory:"Followers",eventAction:t.action||"follow"})}}},new Dribbble.FollowButton($("#wrap")).initialize(),new Dribbble.FollowButton($(".player-cards .player-info"),function(e){return e.find(".stat-followers")}).initialize(),new Dribbble.FollowButton($(".shot-overlay")).initialize(),new Dribbble.FollowButton($(".profile-essentials"),function(){return $(".full-tabs .full-tabs-links .followers")}).initialize(),Dribbble.Overlay={overlays:[],anyOpen:function(){for(i=0;i<this.overlays.length;i++)if(this.overlays[i].isOpen)return!0;return!1},applyOptions:function(e,t){var i=function(e){return[].concat(e||[])};return e.$el=t.$el,t.trigger&&(e.trigger=t.trigger,e.bindTrigger()),e.beforeShow=i(t.beforeShow),e.onShow=i(t.onShow),e.beforeHide=i(t.beforeHide),e.onHide=i(t.onHide),t.remoteContent&&(e.remoteContent=t.remoteContent,e.beforeShow.push(t.loadRemoteContent||e.defaultLoadRemoteContent.bind(e)),e.onHide.push(t.hideRemoteContent||e.defaultHideRemoteContent.bind(e))),e}},Dribbble.Overlay.Simple=function(e){Dribbble.Overlay.applyOptions(this,e),Dribbble.Overlay.overlays.push(this)},Dribbble.Overlay.Simple.prototype={isOpen:!1,currentTarget:null,_runCallbacks:function(e){var i=!0;return $.each(e,function(e,t){i&&0==t()&&(i=!1)}.bind(this)),i},triggerHandler:function(e){e.preventDefault(),this.currentTarget=e.currentTarget,this.show()},bindTrigger:function(){$(this.trigger).on("click",function(e){this.triggerHandler(e)}.bind(this))},find:function(e){return this.$el.find(e)},defaultOnComplete:function(e){e.redirect?window.location=e.redirect:$(this.remoteContent.el).html(e)},defaultLoadRemoteContent:function(){var e=this.remoteContent.url||$(this.currentTarget||this.trigger).attr("href");$.isFunction(e)&&(e=e.apply(this)),$.ajax({context:this,type:this.remoteContent.verb||"GET",url:e,success:this.defaultOnComplete.bind(this),complete:function(e,t){(this.remoteContent.onComplete||function(){}).call(this,e.responseText,t,e)}})},defaultHideRemoteContent:function(){$(this.remoteContent.el).html('<div class="processing">Loading\u2026</div>')},listenForEvents:function(){this.$el.on("click.overlay",".close",this.hide.bind(this)),this.$el.on("click.overlay","form .cancel",this.hide.bind(this)),this.suppressClickToClose||this.$el.on("click.overlay",function(e){$(e.target).is(this.$el)&&this.hide()}.bind(this)),this.keyListeners=Dribbble.Hotkeys.map("overlay",{ESCAPE:this.hide.bind(this)})},stopListeningForEvents:function(){this.$el.off("click.overlay"),this.keyListeners.off()},show:function(){return this._runCallbacks(this.beforeShow)&&(this.listenForEvents(),this.$el.css("height","100%"),this.$el.addClass("overlay-visible").one("transitionend webkitTransitionEnd",function(){this.$el.trigger("focus"),this._runCallbacks(this.onShow)}.bind(this)),this.isOpen=!0,this.track("modal_opened")),!1},hide:function(){return this._runCallbacks(this.beforeHide)&&(this.stopListeningForEvents(),this.$el.removeClass("overlay-visible").one("transitionend webkitTransitionEnd",function(){this._runCallbacks(this.onHide)}.bind(this)),this.isOpen=!1,this.track("modal_closed")),!1},track:function(e){"object"==typeof this.trackingData&&Dribbble.Segment.track(e,this.trackingData)}},Dribbble.Overlay.RemoteForm=function(e){Dribbble.Overlay.applyOptions(this,e),this.form=e.form,this.verb=e.verb||"POST",this.onSuccess=e.onSuccess||this.defaultOnSuccess.bind(this),this.onError=e.onError||this.defaultOnError.bind(this),this.containerToUpdateOnSuccess=e.containerToUpdateOnSuccess,this.containerToUpdateOnFailure=e.containerToUpdateOnFailure,this.successNotification=e.successNotification,Dribbble.Overlay.overlays.push(this)},Dribbble.Overlay.RemoteForm.prototype=$.extend({},Dribbble.Overlay.Simple.prototype,{defaultOnError:function(e){422==e.status?$(this.containerToUpdateOnFailure).html(e.responseText):Notify.alert(e.responseText)},listenForEvents:function(){Dribbble.Overlay.Simple.prototype.listenForEvents.apply(this),this.$el.on("submit.remoteOverlay",this.form||"form",this.submit.bind(this))},stopListeningForEvents:function(){Dribbble.Overlay.Simple.prototype.stopListeningForEvents.apply(this),this.$el.off("submit.remoteOverlay")},defaultOnSuccess:function(e){0==this.$el.find(this.containerToUpdateOnSuccess).length&&this.hide(),$(this.containerToUpdateOnSuccess).html(e),this.successNotification&&Notify.success(this.successNotification)},submit:function(e){var t;e&&e.preventDefault(),t=e&&"FORM"==e.currentTarget.tagName?$(e.currentTarget):this.find(this.form||"form"),$.ajax({context:this,type:this.verb,url:t.attr("action"),data:t.serialize(),success:this.onSuccess,error:this.onError})}}),Dribbble.Overlay.Adapters={bind:function(e,t){var i=e.data(),n={$el:$(i.overlay||"#overlay"),trigger:e,form:i.form,containerToUpdateOnFailure:i.failureContainer||i.remoteContent&&i.remoteContent.container,containerToUpdateOnSuccess:i.successContainer,successNotification:i.notification};i.remoteContent&&(n.remoteContent={el:i.remoteContent.container,url:i.remoteContent.url}),e.data().overlayObj=new t(n)},SimpleTrigger:function(e){Dribbble.Overlay.Adapters.bind(e,Dribbble.Overlay.Simple)},RemoteFormTrigger:function(e){Dribbble.Overlay.Adapters.bind(e,Dribbble.Overlay.RemoteForm)},bindAll:function(){$(".overlay-trigger").each(function(){$(this).data().overlayObj||new Dribbble.Overlay.Adapters.SimpleTrigger($(this))}),$(".overlay-form-trigger").each(function(){$(this).data().overlayObj||new Dribbble.Overlay.Adapters.RemoteFormTrigger($(this))})}},Dribbble.Overlay.Adapters.bindAll(),$(document).ajaxComplete(function(){setTimeout(function(){Dribbble.Overlay.Adapters.bindAll()})}),Dribbble.ClickTracking={},Dribbble.ClickTracking.init=function(e){$(e||document).find("a[data-url]").each(function(){var e=$(this),t=e.data("url"),i=e.attr("href");e.data("url",i).attr("href",t)}).on("mousedown",function(){var e=$(this);e.attr("href",e.data("url"))})},Dribbble.ClickTracking.init(document),$(".psst .close").on("click",function(){var e=$(this).next(),t=e.next();$.post(e.data("url")),0==t.length?$(".psst").slideUp():e.fadeOut(function(){e.remove(),t.fadeIn()})}),Dribbble.Shots={data:{},loggingEnabled:!0,gaLoggingEnabled:!0,add:function(e){$(e).each(function(e,t){this.data[t.id]?this.update(t.id,t):this.data[t.id]=t}.bind(this))},update:function(e,t){var i=this.data[e];if(i){for(var n in t)i[n]=t[n];i.liker&&i.liker.render()}},
idFromShotDiv:function(e){return e[0].id.split("-")[1]},logView:function(e){this.loggingEnabled&&(Dribbble.ShotViewRecorder.queueView(e),this.logAnalyticsView(e))},logViewForShotInDiv:function(e){this.logView(this.idFromShotDiv(e))},analyticsKeys:function(e){return this.gaLoggingEnabled&&this.data[e]?this.data[e].ga:[]},logAnalyticsView:function(e){for(var t=this.analyticsKeys(e),i=0;i<t.length;i++){var n=t[i],r=this.data[e];Dribbble.Analytics.logPageView(n[1],n[0],r.path,r.title)}},logAnalyticsLike:function(e,t){for(var i=this.analyticsKeys(e),n=0;n<i.length;n++){var r=i[n];Dribbble.Analytics.log(r[1],r[0],"event",{eventCategory:"Shots",eventAction:t.action||"like",eventLabel:"Shot: "+e})}}},Dribbble.TeaserStats={init:function(e){var t=$("#main ol.dribbbles>li");$(e).each(function(e,t){var i=$("ol.dribbbles li#screenshot-"+t.id);0<t.rebounds_count?i.find(".has-rebounds").html(numberWithDelimiter(t.rebounds_count)).closest("a").show():t.is_rebound&&i.find(".is-rebound").closest("a").show(),0<t.attachments_count&&i.find(".attachments-mark").show(),t.liked_by_html&&i.find(".dribbble-img").append(t.liked_by_html).find("em").hide(),i.find("li.views span").html(numberWithDelimiter(t.view_count)),i.find("li.cmnt").each(function(){$(this).find("span").html(numberWithDelimiter(t.comments_count)).tipsy(Dribbble.defaultTipsyOptions)}),i.find(".timestamp").html(t.published_at),t.liker=new Dribbble.ShotLiker(t,i),t.liker.render()}),t.find("ul.tools").css({visibility:"visible"})}},Dribbble.ShotLiker=function(i,t){var n,r=!1;return{initialized:!1,init:function(){if(!this.initialized){if(n=t.find("li.fav"),User.loggedIn()){var e=function(e){return $(e.target).tipsy("hide"),this.toggle(),!1}.bind(this);$("<a href='#' class='toggle-fav'> </a>").insertBefore(n.find("a")).on("click",e),n.find("a").tipsy(Dribbble.defaultTipsyOptions)}else n.find("a").attr({"data-signup-trigger":"","data-context":"like-shot"});this.initialized=!0}},render:function(){this.init(),n.find("a:last").html(numberWithDelimiter(i.likes_count)),n.toggleClass("marked",i.liked)},toggle:function(){r||(Dribbble.Shots.logAnalyticsView(i.id),like_or_unlike=i.liked?"unlike":"like",Dribbble.Shots.logAnalyticsLike(i.id,{action:like_or_unlike}),r=!0,this.toggleLikeState(),this.render(),this.persistState())},toggleLikeState:function(){Dribbble.Shots.update(i.id,{liked:!i.liked,likes_count:i.likes_count+(i.liked?-1:1)})},persistState:function(){var e={type:"POST",data:{screenshot_id:i.id},complete:function(){r=!1},error:function(){this.toggleLikeState(),this.render()}.bind(this)},t=i.liked;e.url=t?SHOT_LIKE_ADD_PATH:SHOT_LIKE_REMOVE_PATH,$.ajax(e)}}},"undefined"!=typeof newShots&&(Dribbble.Shots.add(newShots),Dribbble.TeaserStats.init(newShots)),(Dribbble=Dribbble||{}).String={capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},(Dribbble=Dribbble||{}).AdNetworks=Dribbble.AdNetworks||{},Dribbble.AdNetworks.Carbon={enabled:!1,scriptLoaded:!1,zones:{footer:"CVAIKKJM",shot:"CVAIP5QU"},enable:function(){this.enabled=!0},ready:function(){return this.enabled&&"undefined"!=typeof _carbonads},load:function(e){var t=this.zones[e];if(this.enabled&&t){var i=$(".carbon.notloaded");if(this.scriptLoaded&&this.ready())0<i.length&&_carbonads.reload(i[0],t);else{var n=document.createElement("script");n.type="text/javascript",n.src="//cdn.carbonads.com/carbon.js?serve="+t+"&placement=dribbble",n.id="_carbonads_js",n.async=!0,n.onload=function(){this.scriptLoaded=!0}.bind(this),i[0].appendChild(n)}i.removeClass("notloaded").data("carbon-context",e)}},shuffle:function(){this.ready()&&_carbonads.refresh()}},Dribbble.Ads=Dribbble.AdNetworks.Carbon,Dribbble.Hotkeys={listeners:{},KEY_ALIASES:{LEFT:37,RIGHT:39,ESCAPE:27,ENTER:13},initialize:function(){this.bindKeys()},bindKeys:function(){$(document).on("keyup",function(e){if(!this.isFormField(e.target.tagName)&&!this.isModifierKey(e)){var t=this.keyName(e.which);this.keyName&&this.trigger(t)}}.bind(this))},isFormField:function(e){return"INPUT"==e||"TEXTAREA"==e},isModifierKey:function(e){return e.ctrlKey||e.altKey||e.shiftKey||e.metaKey},keyName:function(e){var t=Dribbble.Hotkeys.KEY_ALIASES;for(var i in t)if(t[i]===e)return i;return String.fromCharCode(e)},map:function(e,t,i){return this.listeners[e]&&this.listeners[e].off(),this.listeners[e]=t,this.listeners[e].isApplicable=i||function(){return!0},this.listeners[e].off=function(){delete this.listeners[e]}.bind(this),this.listeners[e]},trigger:function(e){for(var t in this.listeners){var i=this.listeners[t];i[e]&&i.isApplicable()&&i[e]()}}},Dribbble.Hotkeys.TextAreaSubmission={eventName:"keydown.keyboardSubmit",shortcutCopy:(navigator.userAgent.match(/Macintosh/)?"\u2318":"ctrl")+"+enter",enable:function(){$(document).off(this.eventName).on(this.eventName,"textarea",function(e){(e.metaKey||e.ctrlKey)&&e.keyCode==Dribbble.Hotkeys.KEY_ALIASES.ENTER&&(e.preventDefault(),$(this).closest("form").trigger("submit"))}),this.fillShortcuts()},fillShortcuts:function(){$(".keyboard-submit-shortcut").text(this.shortcutCopy)}},Dribbble.Hotkeys.initialize(),Dribbble.Hotkeys.TextAreaSubmission.enable(),function(){var i,e=function(e){var t=$.trim($(".pagination:last").find(e).attr("href"));t&&(i.off(),document.location=t)};i=Dribbble.Hotkeys.map("list",{LEFT:function(){e(".previous_page")},RIGHT:function(){e(".next_page")}},function(){return!(!(0<$(".previous_page:visible, .next_page:visible").length)||Dribbble.Overlay&&Dribbble.Overlay.anyOpen()||Dribbble.ShotOverlay&&Dribbble.ShotOverlay.isOpen())})}(),Dribbble.Router={initialize:function(){Dribbble.isHistorySupported&&History.Adapter.bind(window,"statechange",function(){var e=document.location.pathname;$(".attachment-overlay").is(":visible")?e.match(/\/attachments\//)?Dribbble.Attachments.showOverlay(document.location.toString()):Dribbble.Attachments.hideOverlay():e.match(/\/attachments\//)?void 0!==Dribbble&&Dribbble.Attachments?Dribbble.Attachments.showOverlay(document.location.toString()):window.location.reload(!0):$("#viewer").length?window.location.reload(!0):Dribbble.ShotOverlay&&Dribbble.ShotOverlay.active?e.match(/\/shots\/[^/]+$/)?Dribbble.ShotOverlay.show(document.location.toString()):Dribbble.ShotOverlay.hide():(e.match(/\/scout/)||$(document).scrollTop(0),window.location.reload(!0)),history.state!=undefined&&history.state.title!=undefined&&(document.title=history.state.title)})},go:function(e){history.go(e)},pushState:function(e,t,i){History.pushState(e,t,i)},replaceState:function(e,t,i){history.replaceState(e,t,i),document.title=t}},Dribbble.Router.initialize(),Dribbble.ShotViewRecorder={seenShotIds:[],recordedIds:[],recordingDelay:3e3,recordingMaxQueueDepth:10,recordingTimeoutId:null,submitting:!1,queueView:function(e){-1==this.seenShotIds.indexOf(e)&&this.seenShotIds.push(e),this.queueRecordViewedShots()},queueRecordViewedShots:function(){clearTimeout(this.recordingTimeoutId);var e=this.recordingDelay;this.seenShotIds.length-this.recordedIds.length>=this.recordingMaxQueueDepth&&(e=0),this.recordingTimeoutId=setTimeout(function(){this.submitting?this.queueRecordViewedShots():this.recordViewedShots()}.bind(this),e)},recordViewedShots:function(){this.submitting=!0;var e=$(this.seenShotIds).not(this.recordedIds).get();if(0<e.length){var t=$.post("/shots/log_views",{ids:e});t.done(function(){this.recordedIds=this.recordedIds.concat(e)}.bind(this)),t.always(function(){this.submitting=!1}.bind(this)),e.forEach(function(e){Dribbble.Segment.track("shot_viewed",{shot_id:e})})}else this.submitting=!1}},Dribbble.Segment.FormTracker=function(e,t){this.$el=e,this.area=t,this.bindEventListeners()},Dribbble.Segment.FormTracker.prototype={bindEventListeners:function(){this.$el.on("change","input, select",function(e){this.shouldReport(e.currentTarget)&&this.report(e.currentTarget)}.bind(this))},report:function(e){Dribbble.Segment.track("form_filled",{area:this.area,field:e.name||e.id,value:this.value(e)})},shouldReport:function(e){return!(!e||"hidden"==this.normalizedType(e))},value:function(e){var t=this.normalizedType(e);return"checkbox"==t?e.checked?"checked":"unchecked":"password"!=t&&e.name?e.value:null},normalizedType:function(e){return(e.getAttribute("type")||e.tagName).toLowerCase()}},Dribbble.AnimatedGifSwap={animatedUrl:function(e){return e.replace(/(.*)_(1x|still_2x|still|teaser)(.*?)$/,"$1$3")},attach:function(e,t){$(document).on({mouseenter:function(e){this.swapperFor($(e.currentTarget),t).activate()}.bind(this),mouseleave:function(e){this.swapperFor($(e.currentTarget)).deactivate()}.bind(this)},e)},swapperFor:function(e,t){if(!e.data("gif-swapper")){var i=e;t.parentSelector&&(i=e.parents(t.parentSelector)),e.data("gif-swapper",new Dribbble.AnimatedGifSwap.Swapper(i,t.picSelector))}return e.data("gif-swapper")}},Dribbble.AnimatedGifSwap.LoadingIndicator=function(e){var t=[14,28,42,56],i=t.length+1,n=!1;return{activate:function(){n=!0,this.show(),this.progress()},deactivate:function(){n=!1,e.css("background-position-y",0)},hide:function(){e.hide()},progress:function(){n&&(0<i?i-=1:i=t.length,e.css("background-position-y",t[i]+"px"),setTimeout(this.progress.bind(this),250))},show:function(){e.show()}}},Dribbble.AnimatedGifSwap.Swapper=function(t,e){var i=t.find(e),n=new Dribbble.AnimatedGifSwap.LoadingIndicator(t.find(".gif-indicator"));return{$shot:t,$picture:i,loaded:!1,hovering:!1,activate:function(){this.hovering=!0,this.swapImage()},deactivate:function(){this.hovering=!1,this.restoreImage(),n.deactivate(),n.show()},loadImageInBackground:function(e,t){var i=new Image;i.onload=function(){this.loaded=!0,t()}.bind(this),i.src=e},restoreImage:function(){i.find("source, img").each(function(e,t){this.revertSrc($(t))}.bind(this))},swapImage:function(){if(this.loaded)i.find("source, img").each(function(e,t){this.updateSrc($(t))}.bind(this)),Dribbble.Shots.logViewForShotInDiv(t),n.deactivate(),n.hide();else{n.activate();var e=Dribbble.AnimatedGifSwap.animatedUrl(i.find("img").attr("src"));this.loadImageInBackground(e,function(){this.hovering&&this.swapImage()}.bind(this))}},updateSrc:function(e){var t=this.srcAttr(e),i=e.attr(t),n=Dribbble.AnimatedGifSwap.animatedUrl(i);void 0===e.attr("data-originalsrc")&&e.attr("data-originalsrc",i),e.attr(t,n)},revertSrc:function(e){e.attr(this.srcAttr(e),e.attr("data-originalsrc"))},srcAttr:function(e){return e.is("img")?"src":"srcset"}}},Dribbble.HoverCards={fetchDelay:500,displayDelay:1e3,pendingDisplayId:null,pendingFetchId:null,tooCloseToTop:350,cache:{},displayedURL:null,dismissed:!1,cardBoundaries:null,wrapper:null,initialize:function(e){this.scopeSelector=e,this.bindEventListeners()},bindEventListeners:function(){$(this.scopeSelector).on("mouseenter.hovercard","a.hoverable",this.mouseenter.bind(this))},findCard:function(){var e=$(".hover-card");return 0<e.length?e:($("body").prepend('<div class="hover-card"></div>'),new Dribbble.FollowButton($(".hover-card"),function(e){return e.parent().find(".followers")}).initialize(),this.findCard())},mouseenter:function(e){if(!e.ctrlKey&&!e.metaKey){var t=$(e.currentTarget),i=t.attr("href")+"/hover_card",n=this.displayedURL!=i;if(this.displayedURL)if(n)this.dismiss();else if(!this.dismissed)return!1;this.displayedURL=i,this.dismissed=!1;var r=+new Date,a=this.findCard();return this.wrapper=t.closest(".hover-card-parent"),0==this.wrapper.length&&(this.wrapper=t.parent()),this.addHandlerForDismissal(),this.cache[i]?(n&&a.html(this.cache[i]),this.delayedShow(a,r)):this.delayedFetch(a,i,r),!1}},dismiss:function(){this.dismissed&&!this.pendingDisplayId||(this.dismissed=!0,clearTimeout(this.pendingFetchId),clearTimeout(this.pendingDisplayId),this.pendingFetchId=this.pendingDisplayId=null,this.cardBoundaries=null,$(this.scopeSelector).off("mousemove.hovercard"),this.findCard().hide())},delayedShow:function(e,t){var i=this.displayDelay-(+new Date-t);this.triggerBoundaries=this.getBoundariesForElement(this.wrapper);var n=this.triggerBoundaries.left+e.outerWidth(),r=this.wrapper[0].getBoundingClientRect().top;e.toggleClass("center",n>document.documentElement.clientWidth),e.toggleClass("top",r<this.tooCloseToTop);var a={left:this.triggerBoundaries.left,bottom:"",top:""};r<this.tooCloseToTop?a.top=this.triggerBoundaries.top+this.wrapper.outerHeight():a.bottom=$(window).height()-this.triggerBoundaries.top,e.css(a),clearTimeout(this.pendingDisplayId),this.pendingDisplayId=setTimeout(function(){User.loggedOut()&&Dribbble.SignupModal.overlay.bindTrigger(),e.show(),this.cardBoundaries=this.getBoundariesForElement(e),r<this.tooCloseToTop?this.cardBoundaries.top-=this.wrapper.outerHeight():this.cardBoundaries.bottom+=this.wrapper.outerHeight()}.bind(this),i)},delayedFetch:function(t,i,n){clearTimeout(this.pendingFetchId),this.pendingFetchId=setTimeout(function(){this.dismissed||$.get(i,function(e){this.dismissed||(t.html(e).find("[rel=tipsy]").removeAttr("rel"),this.cache[i]=t.html(),this.delayedShow(t,n))}.bind(this))}.bind(this),this.fetchDelay)},checkShouldDismissOnMouseMove:function(e){this.mouseIn(e,this.cardBoundaries)||this.wrapper.is(":hover")||this.dismiss()},getBoundariesForElement:function(e){var t=e.offset();return t.right=e.outerWidth()+t.left,t.bottom=e.outerHeight()+t.top,t},mouseIn:function(e,t){return null!=t&&e.pageX>=t.left&&e.pageX<=t.right&&e.pageY>=t.top&&e.pageY<=t.bottom},addHandlerForDismissal:function(){this.removeHandlerForDismissal(),$(this.scopeSelector).on("mousemove.hovercard",this.checkShouldDismissOnMouseMove.bind(this))},removeHandlerForDismissal:function(){$(this.scopeSelector).off("mousemove.hovercard")}},Dribbble.isMobile()||Dribbble.HoverCards.initialize("body"),$(document).on("change keypress","form[data-warn-unsaved] input, form[data-warn-unsaved] textarea",function(){window.onbeforeunload=function(){return"You have unsaved changes."}}),$(document).on("submit","form[data-warn-unsaved]",function(){window.onbeforeunload=null}),Dribbble.ShareSheet=function(e){if(e=e||{},this.utm=e.utm,this.area=e.area,this.container=$(e.selector),this.body={raw:e.body,encoded:encodeURIComponent(e.body)},e.imageUrl&&(this.imageUrl={raw:e.imageUrl,encoded:encodeURIComponent(e.imageUrl)}),this.bodies={},e.bodies)for(var t in e.bodies)e.bodies.hasOwnProperty(t)&&(this.bodies[t]={raw:e.bodies[t],encoded:encodeURIComponent(e.bodies[t])});this.buildShareSheet()},Dribbble.ShareSheet.prototype={buildShareSheet:function(){var e=$("<div class='share-sheet' />");e.append(this.createAction("twitter","Share on Twitter")),e.append(this.createAction("facebook","Share on Facebook")),this.imageUrl&&e.append(this.createAction("pinterest","Share on Pinterest")),e.append(this.createAction("email","Share via Email")),this.container.html(e),Dribbble.SignupModal.overlay.bindTrigger()},createAction:function(e,t){var i=$("<a />").text(t).attr({href:"#","class":"share-"+e,title:t});return i.on("click",this.shareTo.bind(this,e)),i},shareTo:function(e,t){t.preventDefault();var i=null,n=null;switch(e){case"twitter":var r=this.bodies.twitter?this.bodies.twitter.encoded:this.body.encoded;i="https://twitter.com/intent/tweet?url="+this.url("Twitter").encoded+"&text="+r,n="status=0,toolbar=0,height=250,width=600";break;case"facebook":i="https://www.facebook.com/sharer/sharer.php?u="+this.url("Facebook").encoded,n="status=0,toolbar=0,height=350,width=600";break;case"pinterest":i="https://pinterest.com/pin/create/button/?url="+this.url("Pinterest").encoded+"&description="+this.body.encoded+"&media="+this.imageUrl.encoded,n="status=0,toolbar=0,height=260,width=600";break;case"email":i="mailto:?&body="+this.body.encoded+encodeURIComponent("\n\n")+this.url("Email").encoded}Dribbble.Segment.track("page_shared",{area:this.area,platform:e}),i&&(n?window.open(i,"",n):window.location.href=i)},url:function(e){var t=window.location.href;return this.utm&&(t=Dribbble.Url.addParams(t,[["utm_source",e+"_"+this.utm.source],["utm_campaign",this.utm.campaign],["utm_content",this.utm.content],["utm_medium","Social_Share"]])),{raw:t,encoded:encodeURIComponent(t)}}},Dribbble.SingleSubmit={},Dribbble.SingleSubmit.disableForm=function(e,t){t=t||"Processing\u2026",e.attr("disabled","disabled"),e.find("button[type=submit], input[type=submit]").attr("disabled","disabled"),e.find("button[type=submit]").each(function(e,t){$(t).data("original-preprocessing-text",$(t).text())}).text(t),e.find("input[type=submit]").each(function(e,t){$(t).data("original-preprocessing-text",$(t).val())}).val(t)},Dribbble.SingleSubmit.enableForm=function(e){e.removeAttr("disabled"),e.find("button[type=submit], input[type=submit]").removeAttr("disabled","disabled"),e.find("button[type=submit]").each(function(e,t){$(t).text($(t).data("original-preprocessing-text")||"Submit")}),e.find("input[type=submit]").each(function(e,t){$(t).val($(t).data("original-preprocessing-text")||"Submit")})},Dribbble.SingleSubmit.bind=function(e){var t=$(e);t.data("single-submit")||(t.on("submit.singleSubmit",function(e){var t=$(e.currentTarget);Dribbble.SingleSubmit.disableForm(t)}),t.data("single-submit",!0))},Dribbble.Meetup={initialize:function(){this.attendanceWrapper=$("#meetup-attendance-information"),this.bindEventListeners()},bindEventListeners:function(){var t=this;t.attendanceWrapper.on("submit","form",function(){return $form=$(this),$form.find("input[type=submit]").attr("disabled",!0).attr("value","Please wait\u2026"),$.ajax({type:$form.attr("method"),url:$form.attr("action"),data:$form.serialize(),success:function(e){t.attendanceWrapper.html(e)},error:function(e){401==e.status?window.location="/session/new?return_to="+window.location:Notify.error("Unable to RSVP: "+e.responseText)}}),!1})}},Dribbble.Meetup.initialize(),Dribbble.Autocomplete=function(n,r,a){var o,e=function(){if(n.autocomplete(r),o=n.data("uiAutocomplete"),r.renderer&&(o._renderItem=r.renderer),r.keypress&&n.on("keypress.autocomplete",r.keypress),r.stayOpenOnMetaSelect){var t,i=o.menu.select;o.menu.select=function(e){t=e.shiftKey||e.ctrlKey||e.metaKey,i.apply(this,arguments)};var e=o._close;o._close=function(){return!t&&e.apply(this,arguments)}}a&&a(o)};if(n.autocomplete)e(n);else{var t="keypress.autocomplete.preload";n.on(t,function(){n.off(t),$.getScript("/assets/jquery-ui-1.12.1-c9313ddf4c6ec76c4e08d12e7f41f0321d99980fdc2779b9fa65c041ec645699.js",function(){e(),n.autocomplete("search",n.val())})})}},Dribbble.AutocompleteCache=function(){this.content={}},Dribbble.AutocompleteCache.prototype={lookup:function(t,i,e){if(this.content.hasOwnProperty(t))i(this.content[t]);else{var n=function(e){this.content[t]=e,i(e)}.bind(this);e(t,n)}},termHasNoResults:function(e){return this.content[e]!=undefined&&0==this.content[e].length},isDeadEnd:function(e){if(this.termHasNoResults(e))return!0;for(var t=1;t<e.length+1;t++)if(this.termHasNoResults(e.substring(0,t)))return!0;return!1}},Dribbble.SearchAutocomplete=function(e){this.$input=e,this.bindEventListeners()},Dribbble.SearchAutocomplete.prototype={bindEventListeners:function(){Dribbble.Autocomplete(this.$input,{minLength:3,autoFocus:!1,stayOpenOnMetaSelect:!0,open:function(){var e=$(".ui-autocomplete:visible"),t=e.position();e.find(".title").removeClass("ui-menu-item"),e.css({top:t.top+14+"px",left:t.left-15+"px",width:e.width()+30+"px"})},source:function(e,t){$.get("/search/autocomplete",{q:e.term},function(e){t($(e).find("li").map(function(e,t){var i=$(t).data("title"),n=$(t).find("a").attr("href");return{html:t.outerHTML,href:n,label:i,value:i}}))})},select:function(e,t){return e.shiftKey||e.ctrlKey||e.metaKey||!t.item.href||(window.location=t.item.href),!1},renderer:function(e,t){return $(t.html).data("item.autocomplete",t).appendTo(e)}})}},$(function(){var e=$("#search .search-text");e.length&&!Dribbble.isMobile()&&new Dribbble.SearchAutocomplete(e)}),Dribbble.Pricing={format:function(e){var t=e<0?"- ":"";return e=Math.abs(e),t+"$"+(e=(e=(e=Dribbble.Pricing.truncate(e)).toFixed(2)).replace(/\B(?=(\d{3})+(?!\d))/g,",")).replace(/\.00$/,"")},truncate:function(e,t){t=t||2;var i=new RegExp("^-?\\d+(?:.\\d{0,"+(t||-1)+"})?");return parseFloat(e.toString().match(i)[0])},sum:function(e){var t=0;return e.forEach(function(e){t+=100*Dribbble.Pricing.truncate(e)}),t/100}},Dribbble.Cart={initialize:function(e,t){this.isJobsPage=null!=window.jobCart,e.length&&(this.$cartContainer=e,this.$taxRateCell=this.$cartContainer.find("[data-payment-tax-rate]"),this.$taxAmountCell=this.$cartContainer.find("[data-payment-tax-amount]"),this.$cartTotalCell=this.$cartContainer.find("[data-payment-total] .total"),this.setBasePrice(this.$cartContainer.attr("data-payment-table")),this.alwaysShowTotal=this.$cartContainer.hasClass("show-total")),this.$postalCodeField=t,this.$postalCodeField.on("input.postal-code",this.updatePostalCode.bind(this));var i=t.filter("#existing_postal_code");i.length&&i.trigger("input.postal-code"),this.active=!0},sumJobCart:function(){return jobCart.calculatePriceData().map(function(e){return e.price}).reduce(function(e,t){return e+t})},postalCodeTaxes:function(e){var t={amount:0,type:"error",name:"Incorrect postal code value"};return{a:{amount:13,type:"HST",name:"Newfoundland and Labrador"},b:{amount:15,type:"HST",name:"Nova Scotia"},c:{amount:15,type:"GST",name:"Prince Edward Island"},e:{amount:13,type:"HST",name:"New Brunswick"},g:{amount:5,type:"GST",name:"Quebec"},h:{amount:5,type:"GST",name:"Quebec"},j:{amount:5,type:"GST",name:"Quebec"},k:{amount:13,type:"HST",name:"Ontario"},l:{amount:13,type:"HST",name:"Ontario"},m:{amount:13,type:"HST",name:"Ontario"},n:{amount:13,type:"HST",name:"Ontario"},p:{amount:13,type:"HST",name:"Ontario"},r:{amount:5,type:"GST",name:"Manitoba"},s:{amount:5,type:"GST",name:"Saskatchewan"},t:{amount:5,type:"GST",name:"Alberta"},v:{amount:5,type:"GST",name:"British Columbia"},x:{amount:5,type:"GST",name:"Northwest Territories and Nunavut"},y:{amount:5,type:"GST",name:"Yukon"}}[e]||t},checkPostalCode:function(e){var t=function(e){var t=e.split(""),i=6===t.length,n=/^[a-z]+$/.test([t[0],t[2],t[4]].join("")),r=/^\d+$/.test([t[1],t[3],t[5]].join(""));return i&&n&&r},i=function(e){return e.replace(/\W/g,"").toLowerCase()}(e);return t(i)?this.postalCodeTaxes(i.charAt(0)):null},setBasePrice:function(e){this.basePrice=parseInt(e)},update:function(e){this.setBasePrice(e),this.$postalCodeField.filter(":visible").length?this.$postalCodeField.filter(":visible").trigger("input.postal-code"):this.$postalCodeField.filter("[type=hidden]").trigger("input.postal-code")},updatePostalCode:function(e){var t=$(e.target).val(),i=this.isJobsPage?this.sumJobCart():this.basePrice,n=this.checkPostalCode(t);if(n){var r=i*(.01*n.amount),a=i+r,o=n.amount+"% "+n.type+" tax";this.isJobsPage?jobCart.renderPriceTable({price:r,description:o}):null!=this.$cartContainer&&(this.$taxRateCell.text(o),this.$taxAmountCell.text(Dribbble.Pricing.format(r)),this.$cartTotalCell.text(Dribbble.Pricing.format(a)),this.$cartContainer.addClass("show-total show-taxes"))}else if(this.isJobsPage)jobCart.renderPriceTable();else if(null!=this.$cartContainer){var s="show-taxes"+(this.alwaysShowTotal?"":" show-total");this.$cartContainer.removeClass(s),this.$cartTotalCell.text("$"+this.basePrice)}}},Dribbble.CartV2={initialize:function(e,t,i){this.lineItems=t,this.$postalCodeField=e,this.$postalCodeField.on("input.postal-code",this.updatePostalCode.bind(this));var n=e.filter("#existing_postal_code");n.length&&n.trigger("input.postal-code"),this.renderPriceTable(),Dribbble.SingleSubmit.bind($("form.create-order")),i&&Dribbble.Segment.track("checkout_viewed",i),this.active=!0},calculatePriceData:function(e){var t=this.lineItems.slice(0);return e&&t.push(e),t},sumCart:function(e){var t=this.calculatePriceData(e).map(function(e){return e.price});return Dribbble.Pricing.sum(t)},postalCodeTaxes:function(e){var t={amount:0,type:"error",name:"Incorrect postal code value"};return{a:{amount:13,type:"HST",name:"Newfoundland and Labrador"},b:{amount:15,type:"HST",name:"Nova Scotia"},c:{amount:15,type:"GST",name:"Prince Edward Island"},e:{amount:13,type:"HST",name:"New Brunswick"},g:{amount:5,type:"GST",name:"Quebec"},h:{amount:5,type:"GST",name:"Quebec"},j:{amount:5,type:"GST",name:"Quebec"},k:{amount:13,type:"HST",name:"Ontario"},l:{amount:13,type:"HST",name:"Ontario"},m:{amount:13,type:"HST",name:"Ontario"},n:{amount:13,type:"HST",name:"Ontario"},p:{amount:13,type:"HST",name:"Ontario"},r:{amount:5,type:"GST",name:"Manitoba"},s:{amount:5,type:"GST",name:"Saskatchewan"},t:{amount:5,type:"GST",name:"Alberta"},v:{amount:5,type:"GST",name:"British Columbia"},x:{amount:5,type:"GST",name:"Northwest Territories and Nunavut"},y:{amount:5,type:"GST",name:"Yukon"}}[e]||t},checkPostalCode:function(e){var t=function(e){var t=e.split(""),i=6===t.length,n=/^[a-z]+$/.test([t[0],t[2],t[4]].join("")),r=/^\d+$/.test([t[1],t[3],t[5]].join(""));return i&&n&&r},i=function(e){return e.replace(/\W/g,"").toLowerCase()}(e);return t(i)?this.postalCodeTaxes(i.charAt(0)):null},update:function(e){this.lineItems[0].price=e,this.$postalCodeField.filter(":visible").length?this.$postalCodeField.filter(":visible").trigger("input.postal-code"):this.$postalCodeField.filter("[type=hidden]").trigger("input.postal-code")},updatePostalCode:function(e){var t=$(e.target).val(),i=this.sumCart(),n=this.checkPostalCode(t),r=null;n&&0<i&&(r={price:i*(.01*n.amount),description:n.amount+"% "+n.type+" tax"}),this.renderPriceTable(r)},renderPriceTable:function(e){var t=$("table[data-payment-table]");t.empty();var i=[],n=0,r=this.calculatePriceData(e),a=[];if($(r).each(function(e,t){i.push(this.addRow(t)),t.price=parseFloat(t.price),a.push(t.price)}.bind(this)),n=0<(n=Dribbble.Pricing.sum(a))?n:0,1<r.length){var o=$("<td>").append("Total:").addClass("num"),s=$("<strong>").append(Dribbble.Pricing.format(n)).addClass("total"),l=$("<td>").append(s).addClass("num");i.push($("<tr>").append(o).append(l))}$(".paid").toggle(0<n),"undefined"!=typeof Card&&(Card.enabled=0<n),t.append(i),$(".recurring-price").html(Dribbble.Pricing.format(n))},addRow:function(e){var t=e.priceDescription||Dribbble.Pricing.format(e.price),i=$("<td>").append(e.description),n=$("<td>").append(t).addClass("num");return $("<tr>").append(i).append(n)}},Dribbble.PillToggle=function(e,t){this.$el=$(e),this.data=this.$el.data(),this.bindEventListeners(),this.callback=t||function(){},this.reconcile()},Dribbble.PillToggle.prototype={bindEventListeners:function(){this.$el.on("change",this.reconcile.bind(this))},set:function(e){this.$el.prop("checked",e),this.reconcile()},reconcile:function(e){var t=$(this.data.target),i=e?e.currentTarget:this.$el[0];i.checked?t.val(this.data.checkedValue):t.val(this.data.uncheckedValue),this.callback(i.checked,t.val())}},Dribbble.Recaptcha={initialized:!1,initialize:function(){if(!this.initialized){var e=setTimeout(function(){this.loaded()||this.showLoadError()}.bind(this),1e4);this.hideCaptchaNotLoaded=function(){clearInterval(e),$(".captcha-not-loaded").hide()},$.getScript("https://www.google.com/recaptcha/api.js",this.hideCaptchaNotLoaded),Dribbble.captchaSuccess=Dribbble.captchaSuccess||function(e){e.currentTarget.submit()},this.initialized=!0,this.bindEventListeners()}},bindEventListeners:function(){var t=$(".g-recaptcha").parents("form");t.one("submit.recaptcha",function(e){e.preventDefault(),window.captchaCallback=function(){this.hideCaptchaNotLoaded(),t.off("submit.recaptcha").on("submit",Dribbble.captchaSuccess),Dribbble.captchaSuccess(e)}.bind(this),this.loaded()?grecaptcha.execute():this.showLoadError()}.bind(this))},loaded:function(){return"undefined"!=typeof grecaptcha},showLoadError:function(){$(".captcha-not-loaded").show()}},Dribbble.SignupModalForm=function(e){this.$el=e,this.$errorContainer=this.$el.children(".errorExplanation"),this.$errorsList=this.$errorContainer.children("ul"),this.formTracker=new Dribbble.Segment.FormTracker(this.$el,"Signup Modal")},Dribbble.SignupModalForm.prototype={show:function(){this.$el.show()},submit:function(e){this.resetErrors();var t=this.$el.serializeArray();for(var i in e)e.hasOwnProperty(i)&&t.push({name:i,value:e[i]});var n=$.post(this.$el.attr("action"),t);n.success(this.onSuccess.bind(this)),n.fail(this.onFailure.bind(this))},onSuccess:function(e){window.location=e.redirect_to},onFailure:function(e){var t=JSON.parse(e.responseText).errors.map(function(e){return $("<li />").text(e)});this.$errorsList.append(t),this.$errorContainer.show()},resetErrors:function(){this.$errorsList.html(""),this.$errorContainer.hide()}},(Dribbble=Dribbble||{}).FacebookLogin={initialized:!1,setup:function(){var e,t,i,n,r;this.initialized||(this.initialized=!0,window.fbAsyncInit=function(){FB.init({appId:"811749452338490",cookie:!0,xfbml:!0,version:"v2.10"}),FB.AppEvents.logPageView()},e=document,t="script",i="facebook-jssdk",r=e.getElementsByTagName(t)[0],e.getElementById(i)||((n=e.createElement(t)).id=i,n.src="https://connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(n,r)),$(".auth-facebook").on("click",function(t){t.preventDefault(),FB.login(function(e){e.authResponse&&(window.location=t.currentTarget.href)},{scope:"public_profile,email,user_friends"})}))}},Dribbble.SignupModal={overlay:null,originalPitchContent:null,defaultParams:{signup:!0},signupReasons:{"like-shot":"To like a shot, please create an account.","bucket-shot":"To bucket a shot, please create an account.","follow-user":"To follow this user, please create an account.","message-user":"To message this user, please create an account.","list-user":"To add this user to a list, please create an account.","share-overtime":"Keep up with the latest Overtime episodes by joining Dribbble today!","share-courtside":"Keep up with the latest Courtside posts by joining Dribbble today!","create-team":"Before purchasing a team, please create an account."},initialize:function(){this.resetParams(),this.$el=$("#signup-overlay"),this.originalPitchContent=this.getPitch(),this.overlay=new Dribbble.Overlay.Simple({$el:this.$el,beforeShow:this.beforeShow.bind(this),onHide:this.onHide.bind(this)}),this.bindEventListeners()},bindEventListeners:function(){0!=this.$el.length&&(this.form=new Dribbble.SignupModalForm(this.$el.find("#new_user")),this.$el.find(".email-signup-toggle").on("click",function(e){e.preventDefault(),this.form.show(),$(e.currentTarget).hide()}.bind(this)),Dribbble.captchaSuccess=function(e){e.preventDefault(),this.form.submit(this.additionalParams)}.bind(this),$(document).on("click","[data-signup-trigger]",this.overlay.triggerHandler.bind(this.overlay)))},beforeShow:function(){Dribbble.Recaptcha.initialize(),Dribbble.FacebookLogin.setup();var e=$(this.overlay.currentTarget).data();if(e.signupPitchContent){var t=$("#"+e.signupPitchContent).html();this.setPitch(t)}var i=e.returnTo||window.location;if(this.setParam("return_to",i),e.params)for(var n in e.params)e.params.hasOwnProperty(n)&&this.setParam(n,e.params[n]);var r=e.reason||this.signupReasons[e.context];r&&this.$el.find(".signup-reason").text(r).addClass("visible"),this.updateSocialAuthLinks(),this.overlay.trackingData={name:"sign up",context:e.context}},onHide:function(){this.restoreContent(),this.bindEventListeners(),this.$el.find(".signup-reason").removeClass("visible")},setParam:function(e,t){this.additionalParams[e]=t},setPitch:function(e){this.$el.find(".pitch-column").html(e)},getPitch:function(){return this.$el.find(".pitch-column").html()},resetParams:function(){this.additionalParams=this.defaultParams},restoreContent:function(){this.setPitch(this.originalPitchContent),this.resetParams()},updateSocialAuthLinks:function(){this.$el.find("a.social-signup").each(function(e,t){var i=$(t);i.data().originalUrl||i.data("originalUrl",i.attr("href"));var n=i.data().originalUrl;i.attr("href",Dribbble.Url.addParams(n,this.additionalParams))}.bind(this))}},Dribbble.SignupModal.initialize(),Dribbble.ResizingSelect={bindEventListeners:function(){$(document).on("change",".resizing-select",function(e){this.resizeSelect(e.currentTarget)}.bind(this)),this.trigger()},resizeSelect:function(e){var t=(e=$(e)).siblings(".sizer-select");t.children(".sizer-option").html(e.children(":selected").text()),e.width(t.width())},trigger:function(){$(".resizing-select").trigger("change")}},Dribbble.ResizingSelect.bindEventListeners();